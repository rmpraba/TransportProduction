<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-time-picker/paper-time-picker.html">
<link rel="import" href="../../bower_components/paper-styles/demo-pages.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<dom-module id="timepicker1-card">
  <template>
    <style is="custom-style" include="paper-date-picker-dialog-style">
      .card {
        width: 100%;
        text-align: center;
        margin-left:20%;
      }
      paper-input{
        width: 65%;
      }
    </style>
    <div class="card">
      <paper-input class="btn" label="Drop Time" on-click="showDialog" raised value="{{droptime}}"></paper-input>
      <paper-dialog id="dialog" class="paper-date-picker-dialog" modal on-iron-overlay-closed="dismissDialog">
        <paper-time-picker id="picker" time="[[time]]"></paper-time-picker>
        <div class="buttons">
          <paper-button dialog-dismiss>Cancel</paper-button>
          <paper-button dialog-confirm>OK</paper-button>
        </div>
      </paper-dialog>
    </div>
  </template>
  <script src="../../scripts/timepicker-card.js"></script>
</dom-module>


<script>
  Polymer({
  is: "timepicker1-card",
  ready:function()
  {
    /*var type="";
    var currentTime = new Date()
    var hours = currentTime.getHours()
    var minutes = currentTime.getMinutes()
    if (minutes < 10){
      minutes = "0" + minutes
    }
    //document.write(hours + ":" + minutes + " ")
    if(hours > 11){
      type="PM";
    } else {
      type="AM";
    }
    this.droptime=hours + ":" + minutes + " "+type;
    localStorage.setItem("curr_sess_outwardtime",this.droptime);*/
  },
  showDialog:function(){
    //alert('drop');
    this.time=this.droptime;
    this.$.dialog.toggle();
  },
  dismissDialog:function(e){
    if (e.detail.confirmed) {
      this.droptime = this.$.picker.time;
      localStorage.setItem("curr_sess_droptime",this.droptime);
      //document.querySelector('item-card').setTime();
      //document.querySelector('customerinfo-page').setTime();
    }

  },
   FnClear:function()
  {
this.droptime="";
  }

});

</script>
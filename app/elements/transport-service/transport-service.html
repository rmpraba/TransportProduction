<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<dom-module id="transport-service">
    <template>
        <iron-ajax
            method="post"
            id="getrouteajax"
            url="{{getrouteurl}}"
            params="{{getrouteparam}}"
            handle-as="json"
            content-type="application/json"   
            on-response="getrouteResponse"
            debounce-duration="300"
            > 
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getroutedetailajax"
            url="{{getroutedetailurl}}"
            params="{{getroutedetailparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getroutedetailResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="insertpointajax"
            url="{{insertpointurl}}"
            params="{{insertpointparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="insertpointResponse"
            debounce-duration="300"
            >
        </iron-ajax>
          <iron-ajax
            method="post"
            id="routeidajax"
            url="{{routeidurl}}"
            params="{{routeidparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="routeidResponse"
            debounce-duration="300"
            >
        </iron-ajax>
          <iron-ajax
            method="post"
            id="sequenceajax"
            url="{{sequenceurl}}"
            params="{{sequenceparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="sequenceResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getzoneajax"
            url="{{getzoneurl}}"
            params="{{getzoneparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getzoneResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getfeeajax"
            url="{{getfeeurl}}"
            params="{{getfeeparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getfeeResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="setzoneajax"
            url="{{setzoneurl}}"
            params="{{setzoneparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="setzoneResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getnameajax"
            url="{{getnameurl}}"
            params="{{getnameparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getnameResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="stupassgetnameajax"
            url="{{stupassgetnameurl}}"
            params="{{stupassgetnameparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="stupassgetnameResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="stufeegetnameajax"
            url="{{stufeegetnameurl}}"
            params="{{stufeegetnameparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="stufeegetnameResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getstudetailajax"
            url="{{getstudetailurl}}"
            params="{{getstudetailparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getstudetailResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="genereportajax"
            url="{{genereporturl}}"
            params="{{genereportparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="genereportResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="gettripajax"
            url="{{gettripurl}}"
            params="{{gettripparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="gettripResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="cancellationajax"
            url="{{cancellationurl}}"
            params="{{cancellationparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="cancellationResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="cancelajax"
            url="{{cancelurl}}"
            params="{{cancelparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="cancelResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="proceedcancelajax"
            url="{{proceedcancelurl}}"
            params="{{proceedcancelparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="proceedcancelResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="transportrequiredstatusajax"
            url="{{transportrequiredstatusurl}}"
            params="{{transportrequiredstatusparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="transportrequiredstatusResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="gettermdateajax"
            url="{{gettermdateurl}}"
            params="{{gettermdateparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="gettermdateResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="nameajax"
            url="{{nameurl}}"
            params="{{nameparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="nameResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="generatereportbynameajax"
            url="{{generatereportbynameurl}}"
            params="{{generatereportbynameparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="generatereportbynameResponse"
            debounce-duration="300"
            >
        </iron-ajax>
         <iron-ajax
            method="post"
            id="generatenameforchequeajax"
            url="{{generatenameforchequeurl}}"
            params="{{generatenameforchequeparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="generatenameforchequeResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="generateroutereportajax"
            url="{{generateroutereporturl}}"
            params="{{generateroutereportparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="generateroutereportResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="deletemappointajax"
            url="{{deletemappointurl}}"
            params="{{deletemappointparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="deletemappointResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getstudapprovalajax"
            url="{{getstudapprovalurl}}"
            params="{{getstudapprovalparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getstudapprovalResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="confirmdiscajax"
            url="{{confirmdiscurl}}"
            params="{{confirmdiscparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="confirmdiscResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getapprovalverifyajax"
            url="{{getapprovalverifyurl}}"
            params="{{getapprovalverifyparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getapprovalverifyResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="confirmedfeeajax"
            url="{{confirmedfeeurl}}"
            params="{{confirmedfeeparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="confirmedfeeResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="confirmfeeajax"
            url="{{confirmfeeurl}}"
            params="{{confirmfeeparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="confirmfeeResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="cancelledfeeajax"
            url="{{cancelledfeeurl}}"
            params="{{cancelledfeeparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="cancelledfeeResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="classajax"
            url="{{classurl}}"
            params="{{classparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="classResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="statuschangeajax"
            url="{{statuschangeurl}}"
            params="{{statuschangeparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="statuschangeResponse"
        >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="studzoneajax"
            url="{{studzoneurl}}"
            params="{{studzoneparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="studzoneResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="pointflagajax"
            url="{{pointflagurl}}"
            params="{{pointflagparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="pointflagResponse"
            debounce-duration="300">
        </iron-ajax>
        <iron-ajax
            id="updatezoneajax"
            url="{{updatezoneurl}}"
            params="{{updatezoneparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="updatezoneResponse"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="routereportajax"
            url="{{routereporturl}}"
            params="{{routereportparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="routereportResponse">
        </iron-ajax>
        <iron-ajax
            method="post"
            id="studentpickroutereportajax"
            url="{{studentpickroutereporturl}}"
            params="{{studentpickroutereportparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="studentpickroutereportResponse">
        </iron-ajax>
        <iron-ajax
            method="post"
            id="studentdroproutereportajax"
            url="{{studentdroproutereporturl}}"
            params="{{studentdroproutereportparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="studentdroproutereportResponse">
        </iron-ajax>
        <iron-ajax
            method="post"
            id="gradewisepickroutereportajax"
            url="{{gradewisepickroutereporturl}}"
            params="{{gradewisepickroutereportparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="gradewisepickroutereportResponse">
        </iron-ajax>
        <iron-ajax
            method="post"
            id="gradewisedroproutereportajax"
            url="{{gradewisedroproutereporturl}}"
            params="{{gradewisedroproutereportparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="gradewisedroproutereportResponse">
        </iron-ajax>
        <iron-ajax
            id="onewayajax"
            url="{{onewayurl}}"
            handle-as="json"
            content-type="application/json"
            on-response="onewayResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            id="onecusajax"
            url="{{onecusurl}}"
            handle-as="json"
            content-type="application/json"
            on-response="onecusResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getpassdetailajax"
            url="{{getpassdetailurl}}"
            params="{{getpassdetailparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getpassdetailResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getzonedetailajax"
            url="{{getzonedetailurl}}"
            params="{{getzonedetailparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getzonedetailResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getppnameajax"
            url="{{getppnameurl}}"
            params="{{getppnameparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getppnameResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getpickrouajax"
            url="{{getpickrouurl}}"
            params="{{getpickrouparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getpickrouResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getdroprouajax"
            url="{{getdroprouurl}}"
            params="{{getdroprouparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getdroprouResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getdpnameajax"
            url="{{getdpnameurl}}"
            params="{{getdpnameparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getdpnameResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getpassnameajax"
            url="{{getpassnameurl}}"
            params="{{getpassnameparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getpassnameResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getfeedetailajax"
            url="{{getfeedetailurl}}"
            params="{{getfeedetailparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getfeedetailResponse"
            debounce-duration="300"
            >
        </iron-ajax>
         <iron-ajax
            method="post"
            id="getfeeofzonechangeajax"
            url="{{getfeeofzonechangeurl}}"
            params="{{getfeeofzonechangeparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getfeeofzonechangeResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getfeeparentajax"
            url="{{getfeeparenturl}}"
            params="{{getfeeparentparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getfeeparentResponse"
            debounce-duration="300"
            >
        </iron-ajax>

        <iron-ajax
            method="post"
            id="getfeechequeajax"
            url="{{getfeechequeurl}}"
            params="{{getfeechequeparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getfeechequeResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getpassclassajax"
            url="{{getpassclassurl}}"
            params="{{getpassclassparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getpassclassResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="getparentinfoajax"
            url="{{getparentinfourl}}"
            params="{{getparentinfoparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getparentinfoResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="classesajax"
            url="{{classurl}}"
            params="{{classparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="classesResponse"
            debounce-duration="300"
            >
        </iron-ajax>
        <iron-ajax
            method="post"
            id="addstudentajax"
            url="{{addstudenturl}}"
            params="{{addstudentparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="addstudentResponse"
            debounce-duration="300"
            >
        </iron-ajax>

        <iron-ajax
            method="post"
            id="addparentajax"
            url="{{addparenturl}}"
            params="{{addparentparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="addparentResponse"
            debounce-duration="300"
            >
        </iron-ajax>
       <iron-ajax
            method="post"
            id="getrouteidajax"
            url="{{getrouteidurl}}"
            params="{{getrouteidparam}}"
            handle-as="json"
            content-type="application/json"
            on-response="getrouteidResponse"
            debounce-duration="300"
            >
      </iron-ajax>
        <!--To fetch Parent name for zone mapping-->
        <iron-ajax
          method="post"
          id="parentdetailajax"
          url="{{parentnameurl}}"
          params="{{parentnameparam}}"
          handle-as="json"
          content-type="application/json"
          on-response="parentnameResponse"
          debounce-duration="300"
        >
        </iron-ajax>
        <iron-ajax
          method="post"
          id="getchequedetailsbynameajax"
          url="{{getchequedetailsbynameurl}}"
          params="{{getchequedetailsbynameparam}}"
          handle-as="json"
          content-type="application/json"
          on-response="getchequedetailsbynameResponse"
          debounce-duration="300"
        >
        </iron-ajax>
        <iron-ajax
          method="post"
          id="getchequedetailsajax"
          url="{{getchequedetailsurl}}"
          params="{{getchequedetailsparam}}"
          handle-as="json"
          content-type="application/json"
          on-response="editchequeResponse"
          debounce-duration="300"
        >
        </iron-ajax>
        <iron-ajax
          method="post"
          id="geteditchequeajax"
          url="{{geteditchequeurl}}"
          params="{{geteditchequeparam}}"
          handle-as="json"
          content-type="application/json"
          on-response="geteditchequeResponse"
          debounce-duration="300"
        >
        </iron-ajax>
        <iron-ajax
                method="post"
                id="driverajax"
                url="{{driverurl}}"
                params="{{driverparam}}"
                handle-as="json"
                content-type="application/json"
                on-response="driverResponse"
                debounce-duration="300"
        >
        </iron-ajax>
        <iron-ajax
                method="post"
                id="drivercountajax"
                url="{{drivercounturl}}"
                params="{{drivercountparam}}"
                handle-as="json"
                content-type="application/json"
                on-response="drivercountResponse"
                debounce-duration="300"
        >
        </iron-ajax>
        <iron-ajax
          method="post"
          id="verifyajax"
          url="{{verifyurl}}"
          params="{{verifyparam}}"
          handle-as="json"
          content-type="application/json"
          on-response="verifyResponse"
          debounce-duration="300"
        >
        </iron-ajax>
      <iron-ajax
        method="post"
        id="increasedriveridajax"
        url="{{increasedriveridurl}}"
        params="{{increasedriveridparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="increasedriveridResponse"
        debounce-duration="300"
      >
      </iron-ajax>
      <iron-ajax
        method="post"
        id="increaseattenderidajax"
        url="{{increaseattenderidurl}}"
        params="{{increaseattenderidparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="increaseattenderidResponse"
        debounce-duration="300"
      >
      </iron-ajax>
      <iron-ajax
      method="post"
      id="attenderajax"
      url="{{attenderurl}}"
      params="{{attenderparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="attenderResponse"
      debounce-duration="300"
    >
    </iron-ajax>
      <iron-ajax
        method="post"
        id="attendercountajax"
        url="{{attendercounturl}}"
        params="{{attendercountparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="attendercountResponse"
        debounce-duration="300"
      >
      </iron-ajax>
      <iron-ajax
        method="post"
        id="increasebusidajax"
        url="{{increasebusidurl}}"
        params="{{increasebusidparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="increasebusidResponse"
        debounce-duration="300"
      >
      </iron-ajax>
      <iron-ajax
        method="post"
        id="busajax"
        url="{{busurl}}"
        params="{{busparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="busResponse"
        debounce-duration="300"
      >
      </iron-ajax>
      <iron-ajax
        method="post"
        id="buscountajax"
        url="{{buscounturl}}"
        params="{{buscountparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="buscountResponse"
        debounce-duration="300"
      >
      </iron-ajax>
      <iron-ajax
        method="post"
        id="bustorouteajax"
        url="{{bustorouteurl}}"
        params="{{bustorouteparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="bustorouteResponse"
        debounce-duration="300"
      >
      </iron-ajax>
      <iron-ajax
        method="post"
        id="bustoroutesubmitajax"
        url="{{bustoroutesubmiturl}}"
        params="{{bustoroutesubmitparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="bustoroutesubmitResponse"
        debounce-duration="300"
      >
      </iron-ajax>
      <iron-ajax
        method="post"
        id="busreportajax"
        url="{{busreporturl}}"
        params="{{busreportparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="busreportResponse"
        debounce-duration="300"
      >
      </iron-ajax>
      <iron-ajax
      method="post"
      id="routetobusajax"
      url="{{routetobusurl}}"
      params="{{routetobusparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="routetobusResponse"
      debounce-duration="300"
    >
    </iron-ajax>
    <iron-ajax
      method="post"
      id="bustodriverajax"
      url="{{bustodriverurl}}"
      params="{{bustodriverparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="bustodriverResponse"
      debounce-duration="300"
    >
    </iron-ajax>
    <iron-ajax
      method="post"
      id="bustoattenderajax"
      url="{{bustoattenderurl}}"
      params="{{bustoattenderparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="bustoattenderResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="mapbustorouteajax"
      url="{{mapbustorouteurl}}"
      params="{{mapbustorouteparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="mapbustorouteResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="getgradeajax"
      url="{{getgradeurl}}"
      params="{{getgradeparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="getgradeResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="summaryajax"
      url="{{summaryurl}}"
      params="{{summaryparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="summaryResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="summarydropajax"
      url="{{summarydropurl}}"
      params="{{summarydropparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="summarydropResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="attendancereportajax"
      url="{{attendancereporturl}}"
      params="{{attendancereportparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="attendancereportResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="getstudentsforattendancepickupajax"
      url="{{getstudentsforattendancepickupurl}}"
      params="{{getstudentsforattendancepickupparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="getstudentsforattendancepickupResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="getstudentsforattendancedropajax"
      url="{{getstudentsforattendancedropurl}}"
      params="{{getstudentsforattendancedropparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="getstudentsforattendancedropResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="submitattendanceajax"
      url="{{submitattendanceurl}}"
      params="{{submitattendanceparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="submitattendanceResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="staffgetnameajax"
      url="{{staffgetnameurl}}"
      params="{{staffgetnameparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="staffgetnameResponse"
      debounce-duration="300"
      >
    </iron-ajax>
     <iron-ajax
      method="post"
      id="getstaffidajax"
      url="{{getstaffidurl}}"
      params="{{getstaffidparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="getstaffidResponse"
      debounce-duration="300"
      >
    </iron-ajax>
    <iron-ajax
      method="post"
      id="staffrouteajax"
      url="{{staffrouteurl}}"
      params="{{staffrouteparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="staffrouteResponse"
      debounce-duration="300"
      >
    </iron-ajax>
    <iron-ajax
      method="post"
      id="getstaffrouteajax"
      url="{{getstaffrouteurl}}"
      params="{{getstaffrouteparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="getstaffrouteResponse"
      debounce-duration="300"
      >
    </iron-ajax>
    <iron-ajax
      method="post"
      id="getstaffdropajax"
      url="{{getstaffdropurl}}"
      params="{{getstaffdropparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="getstaffdropResponse"
      debounce-duration="300"
      >
    </iron-ajax>


     <iron-ajax
      method="post"
      id="updateeditchequeajax"
      url="{{updateeditchequeurl}}"
      params="{{updateeditchequeparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="updateeditchequeResponse"
      debounce-duration="300"
      >
    </iron-ajax>
    <iron-ajax
      method="post"
      id="deletechequeajax"
      url="{{deletechequeurl}}"
      params="{{deletechequeparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="deletechequeResponse"
      debounce-duration="300"
      >
      <iron-ajax        
        id="academicajax"
        url="../../configfile/acadamic.json"
        params="{{academicparam}}"
        handle-as="json"
        content-type="application/json"
        on-response="academicResponse"
        debounce-duration="300"
    >
     <iron-ajax        
        id="zone1ajax"
        url="../../configfile/zone.json"
        params="{{zone1param}}"
        handle-as="json"
        content-type="application/json"
        on-response="zone1Response"
        debounce-duration="300"
    >
     <iron-ajax        
        id="zone11ajax"
        url="../../configfile/zonemax.json"
        params="{{zone11param}}"
        handle-as="json"
        content-type="application/json"
        on-response="zone11Response"
        debounce-duration="300"
    >
    
   <iron-ajax
      method="post"
      id="newdistanceajax"
      url="{{newdistanceurl}}"
      params="{{newdistanceparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="newdistanceResponse"
      debounce-duration="300"
      >
      

    <iron-ajax
      method="post"
      id="fetchdistanceseqajax"
      url="{{fetchdistancesequrl}}"
      params="{{fetchdistanceseqparam}}"
      handle-as="json"
      content-type="application/json"
      on-response="fetchdistanceseqResponse"
      debounce-duration="300"
      >

      
      <iron-ajax
          method="post"
          id="fetchzoneseqajax"
          url="{{fetchzonesequrl}}"
          params="{{fetchzoneseqparam}}"
          handle-as="json"
          content-type="application/json"
          on-response="fetchzoneseqResponse"
          debounce-duration="300"
      >

      <iron-ajax
          method="post"
          id="fnnewzoneajax"
          url="{{fnnewzoneurl}}"
          params="{{fnnewzoneparam}}"
          handle-as="json"
          content-type="application/json"
          on-response="fnnewzoneResponse"
          debounce-duration="300"
      >
    </iron-ajax>
    

    <iron-ajax
          method="post"
          id="fetchzoneajax"
          url="{{fetchzoneurl}}"
          params="{{fetchzoneparam}}"
          handle-as="json"
          content-type="application/json"
          on-response="fetchzoneResponse"
          debounce-duration="300"
      >
    </iron-ajax>


    </template>
  <script>
  (function() {
    var point;
    var trip;
    var pick;
    var drop;
    var routeidd;
    var pointcount;
    var routetrip="";
    var totalfee;
    var months;
    var calcfee;
    var cancelfee;
    var cancelpaid;
    var cusfee;
    var yearlyfee;
    var val;
    var oneway;
    var zstuname;
    var distance;
    var parent_name;
    var parent_mobile;
    var parent_email;
    var address_1;
    var address_2;
    var address_3;
    var city;
    var pincode;
    var rouid;
    var feedet;
    var studentname;
    var feeparent;
    var editchequedetail;
    var driver_counts;
    var attender_counts;
    var bus_counts;
    var bustoroute;
    var routetobus;
    var bustoschool;
    var bustodriver;
    var bustoattender;
    var routeidzzz;
    var school=sessionStorage.getItem("sch");
    var int=1;
    var lenx;
    var zonefeechange;
    var zoneid1;
    var zonename1;
    var distanceid1;
    Polymer({
      is: "transport-service",

     FnClear:function(){
    point="";
    trip="";
    pick="";
    drop="";
    routeidd="";
    routetrip="";
    totalfee="";
    months="";
    calcfee="";
    cancelfee="";
    cancelpaid="";
    cusfee="";
    yearlyfee="";
    val="";
    oneway="";
     zstuname="";
     distance="";
     parent_name="";
     parent_mobile="";
     parent_email="";
     address_1="";
     address_2="";
     address_3="";
     city="";
     pincode="";
     },
    callAcademicService:function(){
        this.$.academicajax.generateRequest();
      },
      academicResponse:function(e)
      {
      document.querySelector('accountsadmin-card').academicarr=e.detail.response; 
      document.querySelector('transportadmin-card').academicarr=e.detail.response; 
      document.querySelector('financemanager-card').academicarr=e.detail.response; 
   
      },
      zonesercdzsd:function(){
            this.$.zone1ajax.generateRequest();
    
      },
      zone1Response:function(e){

        //alert(JSON.stringify(e.detail.response));
         document.querySelector('zonedistance-card').mindesarrr=e.detail.response; 
          
        },

        zoneminmax:function()
        {
            this.$.zone11ajax.generateRequest();
        },
        zone11Response:function(e)
        {
            //alert(JSON.stringify(e.detail.response));
            document.querySelector('zonedistance-card').maxdesarrr=e.detail.response;
        },
       getroute:function()
      {
        this.getrouteurl=sessionStorage.getItem("addrinfo")+"/getroute";
        var obj={"schol":"","academic_year":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.getrouteparam=obj;
        this.$.getrouteajax.generateRequest();
      },
      getrouteResponse:function(e1)
      {

        var a2=e1.detail.response.returnval;

   //     alert(JSON.stringify(a2));

        document.querySelector('mappointtoroute-card').routearr=a2;
        document.querySelector('vehicleroute-card').routes=a2;
        document.querySelector('staffallocation-card').routearr=a2;
        document.querySelector('staffreport-card').routearr=a2;
        document.querySelector('addattendence-card').routes=a2;
      },
       getroutedetail:function(tripno,routevalue1)
      {
   
        this.getroutedetailurl=sessionStorage.getItem("addrinfo")+"/getroutedetail";
        var obj={"routename":"","tripnos":"","schol":"","academic_year":""};
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        obj.schol=sessionStorage.getItem("sch");
        obj.routename=routevalue1;
        obj.tripnos=tripno;
        this.getroutedetailparam=obj;
      // alert(JSON.stringify(obj));
        this.$.getroutedetailajax.generateRequest();
      },
      getroutedetailResponse:function(e1)
          {
          var routedetails=e1.detail.response.returnval;
       //alert(JSON.stringify(routedetails));
          if(routedetails=='invalid'){
             document.querySelector('mappointtoroute-card').fn1();
           }
           else{
           // alert('1');
             document.querySelector('mappointtoroute-card').itemarr=routedetails;
           }
      },

      insertpoint:function(route,pt,pickuptime,droptime,tripp,dist,pickupseq,dropseq)
      {
        //alert('insert');
        point=pt;
        trip=tripp;
        pick=pickuptime;
        drop=droptime;
        distance=dist;
        this.pickupseq=pickupseq;
        this.dropseq=dropseq;
        this.routeidurl=sessionStorage.getItem("addrinfo")+"/routeid";
        var obj={"id":"","academic_year":""};
      obj.id='point'; 
       obj.academic_year=localStorage.getItem("curr_sess_academicyear");
    
        this.routeidparam=obj;
       // alert(JSON.stringify(obj));
        this.$.routeidajax.generateRequest();
      },
      insertpointResponse:function(e){
        //alert('responsefin');
        var result=e.detail.response.returnval;
        if(result=='success')
        {
            alert('The point is mapped to route');
            document.querySelector('mappointtoroute-card').refreshdeletedata();
        }
       else
        {
            alert('The point is not mapped to route');
        }
      },
      routeidResponse:function(e)
      {
        pointcount=(e.detail.response.returnval[0].count)+1;
        this.sequenceurl=sessionStorage.getItem("addrinfo")+"/sequence";
        var obj={"pointcoun":"","id":""}
        obj.id='point';
        obj.pointcoun=pointcount;
        this.sequenceparam=obj;
        this.$.sequenceajax.generateRequest();

      },
      sequenceResponse:function(e)
      {
        var seq=pointcount;
        var obj={"id":"","routes":"","points":"","trip":"","pick":"","drop":"","distance":"","schol":"","academic_year":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.id="p"+seq;
        obj.academic_year=localStorage.getItem("curr_sess_academicyear")
        obj.routes=sessionStorage.getItem("routevalue");
        obj.points=point;
        obj.trip=trip;
        obj.pick=pick;
        obj.drop=drop;
        obj.distance=distance;
        obj.pickupseq=this.pickupseq;
        obj.dropseq=this.dropseq;
        this.insertpointparam=obj;
       // alert(JSON.stringify(obj));
        this.insertpointurl=sessionStorage.getItem("addrinfo")+"/insertpoint";
        this.$.insertpointajax.generateRequest();

      },
         getzone:function()  

      {
        this.getzoneurl=sessionStorage.getItem("addrinfo")+"/getzone";
        var obj={"schol":"","academic_year":""};
        obj.academic_year=localStorage.getItem("curr_sess_academicyear")
        obj.schol=sessionStorage.getItem("sch");
        this.getzoneparam=obj;
        this.$.getzoneajax.generateRequest();
      },
      getzoneResponse:function(e1)
          {
            var zoneitem=e1.detail.response.returnval;
          //  alert(JSON.stringify(zoneitem));
            document.querySelector('zonetostudent-card').itemarr=zoneitem;
      },
      getfee:function(zone)
      {
        this.getfeeurl = sessionStorage.getItem("addrinfo")+"/getfee";
        var obj={"zone":"","schol":"","academic_year":""}
        obj.zone=zone;
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear")
        this.getfeeparam=obj;
        this.$.getfeeajax.generateRequest();
      },
      getfeeResponse:function(e){
         totalfee=e.detail.response.returnval[0].fees;
          document.querySelector('zonetostudent-card').fee=totalfee;
      },
      calc:function(values){
      if(values=='foryear'){
        yearlyfee=totalfee;
        //alert(yearlyfee);
   }     
      },
      gettermdate:function(grade){
         this.gettermdateurl=sessionStorage.getItem("addrinfo")+"/gettermdate";
         var obj={"grade":"","schol":"","academic_year":""}
         obj.schol=sessionStorage.getItem("sch");
         obj.academic_year=localStorage.getItem("curr_sess_academicyear");
         obj.grade=grade;
         this.gettermdateparam=obj;
        //alert(JSON.stringify(obj));

        this.$.gettermdateajax.generateRequest();
      },  
         gettermdateResponse:function(e1)
          {
           // alert(JSON.stringify(e1.detail.response.returnval));

            var fromdate1=e1.detail.response.returnval[0].start_date;
            var todate1=e1.detail.response.returnval[0].end_date;
         // alert(fromdate1);
            document.querySelector('zonetostudent-card').zfromdate=fromdate1;
            document.querySelector('zonetostudent-card').ztodate=todate1;
            document.querySelector('zonetostudent-card').setzonedate(fromdate1,todate1);

      },
      setzone:function(studid,zone,fee,fromdatez,todatez,modez,namex,todayx,statusx,stuname)
      {
        zstuname=stuname;
        this.setzoneurl = sessionStorage.getItem("addrinfo")+"/setzone";
     var obj={"studid":"","zone":"","fee":"","fromdate":"","todate":"","mode":"","name":"","today":"","status":"","schol":"","academic_year":""};
        obj.schol=sessionStorage.getItem("sch");
        obj.studid=studid;
        obj.zone=zone;
        obj.fee=fee;
        obj.fromdate=fromdatez;
        obj.todate=todatez;
        obj.mode=modez;
        obj.name=namex;
        obj.today=todayx;
        obj.today=todayx;
        obj.status=statusx;
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.setzoneparam=obj;
       // alert(JSON.stringify(obj));
        this.$.setzoneajax.generateRequest();
      },
      setzoneResponse:function(e){
         var result=e.detail.response.returnval;
         //alert(result);
         if(result=="success")
         {
          alert('Zone allocated successfully');
          document.querySelector('zonetostudent-card').FnDeselect();
          // document.querySelector('transportfee-service').zonefee(zstuname);
         }
         else
         {
          alert('Duplicate Entry');
         }
      },


       getname:function()
      {
        //alert('hi service');
        this.getnameurl=sessionStorage.getItem("addrinfo")+"/getname";
        var obj={"schol":"","academic_year":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
         this.getnameparam=obj;
        this.$.getnameajax.generateRequest();
      },
        stupassgetname:function()
      {
        this.stupassgetnameurl=sessionStorage.getItem("addrinfo")+"/stupassgetname";
        var obj={"schol":"","academic_year":""}
        obj.schol=sessionStorage.getItem("sch");
          obj.academic_year=localStorage.getItem("curr_sess_academicyear");
         this.stupassgetnameparam=obj;
        this.$.stupassgetnameajax.generateRequest();
      },
       stufeegetname:function()
      {
        //alert('hi service');
        this.stufeegetnameurl=sessionStorage.getItem("addrinfo")+"/stufeegetname";
        var obj={"schol":""}
        obj.schol=sessionStorage.getItem("sch");
        this.stufeegetnameparam=obj;
        this.$.stufeegetnameajax.generateRequest();
      },
      getnameResponse:function(e1)  
          {
            var iditem=e1.detail.response.returnval;
         //   alert(JSON.stringify(iditem));
            //document.querySelector('zonetostudent-card').studentidarr=iditem;
            document.querySelector('zonetostudent-card').autocompletearr(iditem);
            //document.querySelector('studentpass-card').autocompletearr(iditem);
            //alert(JSON.stringify(document.querySelector('zonetostudent-card').namearr));
      },
 stupassgetnameResponse:function(e1)
          {
            var iditem1=e1.detail.response.returnval;
            document.querySelector('studentpass-card').autocompletearr(iditem1);

      },
       stufeegetnameResponse:function(e1)
          {
            var iditem2=e1.detail.response.returnval;
            document.querySelector('feereceipt-card').autocompletearr(iditem2);

      },
      getstudetail:function(studid)
      {
        this.getstudetailurl=sessionStorage.getItem("addrinfo")+"/getstudetail";
        var obj={"studid":"","schol":"","academic_year":""};
        obj.studid=studid;
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.getstudetailparam=obj;
        //alert(JSON.stringify(obj));
        this.$.getstudetailajax.generateRequest();
       this.parentnameurl=sessionStorage.getItem("addrinfo")+"/getparentname";
        var obj={"studid":"","schol":"","academic_year":""};
        obj.studid=studid;
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.parentnameparam=obj;

        this.$.parentdetailajax.generateRequest();
      },
      parentnameResponse:function(e){

           var parentname= e.detail.response.returnval[0].parent_name;
       // alert((parentname

               document.querySelector('zonetostudent-card').parent=parentname;
      },
      getstudetailResponse:function(e1)
          {
        //    alert(JSON.stringify(e1.detail.response.returnval));
            var profilename=e1.detail.response.returnval[0].student_name;
            var gradename=e1.detail.response.returnval[0].school_type;
            var dob=e1.detail.response.returnval[0].dob;
            var stdid=e1.detail.response.returnval[0].id;
            var classz=e1.detail.response.returnval[0].class;
            document.querySelector('zonetostudent-card').name=profilename;
            document.querySelector('zonetostudent-card').grade=gradename;
            document.querySelector('zonetostudent-card').date=dob;
            document.querySelector('zonetostudent-card').id=stdid;
            document.querySelector('zonetostudent-card').stnd=classz;

            // this.classurl=sessionStorage.getItem("addrinfo")+"/getclass";
            // var obj1={"class":"","schol":""}
            // obj1.class=classz;
            // obj1.schol=sessionStorage.getItem("sch");
            // this.classparam=obj1;
            // this.$.classajax.generateRequest();

      },
      classResponse:function(e){
        var stnd=e.detail.response.returnval[0].class;
        var secn=e.detail.response.returnval[0].section;
        document.querySelector('zonetostudent-card').stnd=stnd;
        document.querySelector('zonetostudent-card').secn=secn;
      },

      generatereport:function(studid){
        this.genereporturl=sessionStorage.getItem("addrinfo")+"/report-card";
        var obj={"studid":"","schol":""}
        obj.studid=studid;
        obj.schol=schol=sessionStorage.getItem("sch");
        this.genereportparam=obj;  
        this.$.genereportajax.generateRequest();
      },
      genereportResponse:function(e){
        //alert(JSON.stringify(e.detail.response.returnval));
        var reportresult=e.detail.response.returnval;
        document.querySelector('genestureport-card').reportarr=reportresult;
      },
      generateroutereport:function(){
        this.generateroutereporturl=sessionStorage.getItem("addrinfo")+"/generateroutereport";
        var obj={"schol":"","academic_year":""}
         obj.academic_year=localStorage.getItem("curr_sess_academicyear");
         obj.schol=sessionStorage.getItem("sch");
        this.generateroutereportparam=obj;
        this.$.generateroutereportajax.generateRequest();
      },
      generateroutereportResponse:function(e){
        var nameitem=e.detail.response.returnval;
        document.querySelector('routereport-card').autocompletename(nameitem);
        document.querySelector('gradewiseroute-report').autocompletename(nameitem);
      },
      routereport:function(routeid){
        this.routereporturl=sessionStorage.getItem("addrinfo")+"/route-report-card";
        var obj={"routeid":"","schol":""}
        obj.routeid=routeid;
        obj.schol=sessionStorage.getItem("sch");
        this.routereportparam=obj;
        //alert(JSON.stringify(obj));
        this.$.routereportajax.generateRequest();
      },
    
      routereportResponse:function(e){
        //alert(JSON.stringify(e.detail.response.returnval));
        var routereportresult=e.detail.response.returnval;
        document.querySelector('routereport-card').reportarr=routereportresult;
      },
      studentroutereport:function(routeid,tripid,pickordrop)
      {
      
       // this.studentdroproutereporturl=sessionStorage.getItem("addrinfo")+"/studentdroproute-report-card";
       //  var obj={"routeid":"","tripid":"","schol":"","academic_year":""}
       //  obj.schol=sessionStorage.getItem("sch");
       //  obj.routeid=routeid;
       //  obj.tripid=tripid;
       //  obj.pickordrop=pickordrop;
       //  obj.academic_year=localStorage.getItem("curr_sess_academicyear");
       //  this.studentdroproutereportparam=obj;
       //  this.$.studentdroproutereportajax.generateRequest();
       if(pickordrop=="Pickup"){
        this.studentpickroutereporturl=sessionStorage.getItem("addrinfo")+"/studentpickroute-report-card";
        var obj={"routeid":"","tripid":"","schol":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        obj.routeid=routeid;
        obj.tripid=tripid;
        this.studentpickroutereportparam=obj;
        //alert(JSON.stringify(obj));
        //alert(JSON.stringify(obj));
        //alert('hi');
        this.$.studentpickroutereportajax.generateRequest();
      } else {
        this.studentdroproutereporturl=sessionStorage.getItem("addrinfo")+"/studentdroproute-report-card";
        var obj={"routeid":"","tripid":"","schol":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        obj.routeid=routeid;
        obj.tripid=tripid;
        //alert(JSON.stringify(obj));
        this.studentdroproutereportparam=obj;
        this.$.studentdroproutereportajax.generateRequest();
      }
     
      },

      gradewiseroutereport:function(routeid,tripid,grade)
      {
     this.gradewisepickroutereporturl=sessionStorage.getItem("addrinfo")+"/gradewisepickroute-report-card";
        var obj={"routeid":"","tripid":"","schol":"","grade":"","academic_year":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        obj.routeid=routeid;
        obj.tripid=tripid;
        obj.grade=grade;
        this.gradewisepickroutereportparam=obj;
        //alert(JSON.stringify(obj));
        //alert('hi');
        this.$.gradewisepickroutereportajax.generateRequest();
       },
      gradewisepickroutereportResponse:function(e)
      {
        var routereportresult=e.detail.response.returnval;
        var no_of_student = routereportresult.length;
     if(routereportresult!='empty'){
       document.querySelector('gradewiseroute-report').reportarr=routereportresult;
        document.querySelector('gradewiseroute-report').no_of_student=no_of_student;
    }
    else{
        alert(" Route is not mapped in the Grade");
        document.querySelector('gradewiseroute-report').f11();
      
    }

      },
       gradewisedroproutereportResponse:function(e)
      {
        var routereportresult=e.detail.response.returnval;
        var no_of_student= routereportresult.length;
          if(routereportresult!='empty'){
        document.querySelector('gradewiseroute-report').reportarr=routereportresult;
        document.querySelector('gradewiseroute-report').no_of_student=no_of_student;
        //alert(JSON.stringify(e.detail.response.returnval));
    }else{
        alert("Route not mapping in the Grade");
           document.querySelector('gradewiseroute-report').f11();
   
       }
      },
      studentpickroutereportResponse:function(e)
      {
        var routereportresult=e.detail.response.returnval;
        // alert(JSON.stringify(routereportresult));
        var no_of_student = routereportresult.length;
         if(routereportresult!="empty"){
        document.querySelector('routereport-card').reportarr=routereportresult;
        document.querySelector('addattendence-card').reportarr=routereportresult;
        document.querySelector('routereport-card').no_of_student=no_of_student;
        //alert(JSON.stringify(e.detail.response.returnval));
    }else{
        alert("No pickup point in the route");
           document.querySelector('gradewiseroute-report').f11();
       }
      },
       studentdroproutereportResponse:function(e)
      {
          var routereportresult=e.detail.response.returnval;
          // alert(JSON.stringify(routereportresult));
           if(routereportresult!="empty"){
        var no_of_student= routereportresult.length;
        document.querySelector('routereport-card').reportarr=routereportresult;
        document.querySelector('routereport-card').no_of_student=no_of_student;
    }else{
      alert("No drop point in the route");
                document.querySelector('routereport-card').studentpickroutereport1();
  
  
    }
      },

     gettrip:function(routename,routevalue1)
      {
        routetrip=routename;
        //alert('name of route'+routetrip);
        //alert('Hi');
        this.gettripurl=sessionStorage.getItem("addrinfo")+"/gettrip";
        var obj={"triproute":"","schol":"","academic_year":""};
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        obj.triproute=routevalue1;
        this.gettripparam=obj;

        this.$.gettripajax.generateRequest();
        this.getrouteidurl=sessionStorage.getItem("addrinfo")+"/getrouteid";
        var obj1={"routename":"","schol":"","academic_year":""}
        obj1.schol=sessionStorage.getItem("sch");
       obj1.academic_year=localStorage.getItem("curr_sess_academicyear");
        obj1.routename=routevalue1;
        this.getrouteidparam=obj1;
      //alert(JSON.stringify(obj1));
        this.$.getrouteidajax.generateRequest();

      },
      getrouteid:function(rout){
            this.getrouteidurl=sessionStorage.getItem("addrinfo")+"/getrouteid";
        var obj1={"routename":"","schol":"","academic_year":""}
        obj1.schol=sessionStorage.getItem("sch");
         obj1.academic_year=localStorage.getItem("curr_sess_academicyear");
    
        obj1.routename=rout;
        this.getrouteidparam=obj1;
      //alert(JSON.stringify(obj1));
        this.$.getrouteidajax.generateRequest();
      },
      getrouteidResponse:function(e){
        rouid=e.detail.response.returnval[0].id;
        sessionStorage.setItem("routid",rouid);
        document.querySelector('vehicleroute-card').routeid=rouid;
        document.querySelector('staffallocation-card').routeid=rouid;
      },
      gettripResponse:function(e1)
          {
            //alert('i m back');
          var tripdetails=e1.detail.response.returnval;
          var xx = e1.detail.response.returnval[0].id;
          //alert(JSON.stringify(tripdetails));
          //alert(JSON.stringify(routedetails));
          document.querySelector('mappointtoroute-card').triparr=tripdetails;
      },
      //cancellation
      cancellation:function(studid){
        this.cancellationurl=sessionStorage.getItem("addrinfo")+"/cancellation";
        var obj={"studid":"","schol":""}
        obj.studid=studid;
        obj.schol=sessionStorage.getItem("sch");
        this.cancellationparam=obj;
        //alert(JSON.stringify(obj));
        this.$.cancellationajax.generateRequest();
      },
      cancellationResponse:function(e){
        //alert(JSON.stringify(e.detail.response.returnval));
        var reportresult=e.detail.response.returnval;
        document.querySelector('cancellation-card').cancellationarr=reportresult;
      },
      cancel:function(school_type, fee, paid){
        this.cancelurl=sessionStorage.getItem("addrinfo")+"/cancel";
        var end_date = localStorage.getItem("localsess_curr_date",this.showdate);
        var obj={"school_type":"","end_date":"","schol":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.school_type=school_type;
        cancelfee = fee;
        cancelpaid = paid;
        obj.end_date=end_date;
        this.cancelparam=obj;
        this.$.cancelajax.generateRequest();
      },
      cancelResponse:function(e){
        var school_start_date = new Date(e.detail.response.returnval[0].start_date);
        var school_end_date = new Date(e.detail.response.returnval[0].end_date);
        var end_date = new Date(localStorage.getItem("localsess_curr_date",this.showdate));
        var a = (school_end_date.getFullYear() - school_start_date.getFullYear()) * 12;
        a += school_end_date.getMonth() - school_start_date.getMonth();
        if (school_end_date.getDate() < school_start_date.getDate()){
          a--;
        }
        var b = (end_date.getFullYear() - school_start_date.getFullYear()) * 12;
        b += end_date.getMonth() - school_start_date.getMonth();
        if (end_date.getDate() < school_start_date.getDate()){
          b--;
        }
        var total_months = a + 1;
        var months_used = b + 1;
        var totalamount = cancelfee;
        var paidamount = cancelpaid;
        var remaining_months = total_months - months_used;
        var percent = (remaining_months / total_months)*100;
       // alert("percent"+' '+percent);
        var total_refund_amount = (totalamount/100)*percent;
        //alert("refund"+' '+total_refund_amount);
        var used_amount = parseInt(totalamount - total_refund_amount);
        var refund_amount = paidamount - used_amount;
        //alert("refund_amount"+' '+refund_amount);
        document.querySelector('cancellation-item-card').months_used=months_used;
        document.querySelector('cancellation-item-card').total_months=total_months;
        document.querySelector('cancellation-item-card').refund_amount=refund_amount;
      },
      proceedcancellation:function(student_id, student_name, months_used, refund_amount, reason)
      {
        this.student_id=student_id;
        this.proceedcancelurl=sessionStorage.getItem("addrinfo")+"/proceedcancel";
        var obj={"student_id":"","student_name":"","months_used":"","refund_amount":"","reason":"","schol":""}
        obj.student_id=student_id;
        obj.schol=sessionStorage.getItem("sch");
        obj.student_name=student_name;
        obj.months_used=months_used;
        obj.refund_amount=refund_amount;
        obj.reason = reason;
        this.proceedcancelparam=obj;
        this.$.proceedcancelajax.generateRequest();
      },
      proceedcancelResponse:function(e){
        var reportresult=e.detail.response.returnval;
        if(reportresult=='success'){
            
        alert('Cancellation Request is Sent Successfully');
              var obj={"student_id":"","schol":""}
              obj.schol=sessionStorage.getItem("sch");
        obj.student_id=this.student_id;
        this.transportrequiredstatusparam=obj;
        this.transportrequiredstatusurl=sessionStorage.getItem("addrinfo")+"/transportrequiredstatus";
        this.$.transportrequiredstatusajax.generateRequest();
        this.statuschangeurl=sessionStorage.getItem("addrinfo")+"/statuschange";
        this.statuschangeparam=obj;
        this.$.statuschangeajax.generateRequest();
        this.pointflagurl=sessionStorage.getItem("addrinfo")+"/pointflag";
        this.pointflagparam=obj;
        this.$.pointflagajax.generateRequest();
        }
        else{
          alert('Request Failed');
        }
        document.querySelector('cancellation-card').getrefreshcancel();
        document.querySelector('transport-app').setPage("cancellation","Transport Cancellation");

      },
       monthdiff:function(fromdate,todate){
        //alert('flow');
        var froms = fromdate;
        var to = todate;
        var d1 = new Date(froms);
        var d2=new Date(to);
        //alert('hi..'+d1+'   dvfa.. '+d2);
        months = (d2.getFullYear() - d1.getFullYear()) * 12;
        months -= d1.getMonth() + 1;
        months += d2.getMonth();
        var month = months+2;
        //alert(totalfee+'   '+month);
        cusfee = parseInt((totalfee/12)*month);
        //alert(cusfee);
      },
      name:function(){
        this.nameurl = sessionStorage.getItem("addrinfo")+"/name";
        var obj={"schol":""}
        obj.schol=sessionStorage.getItem("sch");
        this.nameparam=obj;
        this.$.nameajax.generateRequest();
      },
      nameResponse:function(e){
        var nameitem=e.detail.response.returnval;
        document.querySelector('cancellation-card').autocompletename(nameitem);
      },   
      transportrequiredstatusResponse:function(e){

      },
      generatereportbyname:function(){
       this.generatereportbynameurl=sessionStorage.getItem("addrinfo")+"/generatereportbyname";
       var obj={"schol":""}
       obj.schol=sessionStorage.getItem("sch");
       this.generatereportbynameparam=obj;
       this.$.generatereportbynameajax.generateRequest();
      },  
       generatenameforcheque:function(){
       this.generatenameforchequeurl=sessionStorage.getItem("addrinfo")+"/generatenameforcheque";
       var obj={"schol":""}
           obj.academic_year=localStorage.getItem("curr_sess_academicyear");
           obj.schol=sessionStorage.getItem("sch");
           this.generatenameforchequeparam=obj;
           this.$.generatenameforchequeajax.generateRequest();
        },
      generatereportbynameResponse:function(e){
        var nameitem=e.detail.response.returnval;
        document.querySelector('genestureport-card').autocompletename(nameitem);
      },
       generatenameforchequeResponse:function(e){
        var nameitem=e.detail.response.returnval;
        document.querySelector('chequedetail-card').autocompletename(nameitem);
      },
      deletemappoint:function(pointarray,routenam,tripnum)
      {
        this.deletemappointurl=sessionStorage.getItem("addrinfo")+"/deletemappoint-card";
        var obj={"pointarray":"","routenam":"","tripnum":"","schol":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.pointarray=pointarray;
        obj.routenam=routenam;
        obj.tripnum=tripnum;
        this.deletemappointparam=obj;
        this.$.deletemappointajax.generateRequest();
      },
      deletemappointResponse:function(e)
      {
        alert('Data Deleted successfully');
        document.querySelector('mappointtoroute-card').refreshdeletedata();

      },
       getstudapproval:function(){

        this.getstudapprovalurl=sessionStorage.getItem("addrinfo")+"/getstudapproval";
        var obj={"schol":""}
        obj.schol=sessionStorage.getItem("sch");
        this.getstudapprovalparam=obj;
        this.$.getstudapprovalajax.generateRequest();
      },
      getstudapprovalResponse:function(e){
          var reqappro=e.detail.response.returnval;
          if(reqappro==''){
          document.querySelector('transport-app').setPage("nodata","Discount Approval");
          }
          else{
          document.querySelector('approvediscount-card').approvearr=reqappro;
        }

      },
      confirmdisc:function(stid,admrea,accdis,flag,status){
        var todat=new Date();
        var today=todat.getFullYear()+"/"+(todat.getMonth()+1)+"/"+todat.getDate();
        this.confirmdiscurl=sessionStorage.getItem("addrinfo")+"/confirmdisc";
        var obj={"stid":"","admrea":"","accdis":"","nowdate":"","flag":"","status":"","schol":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.stid=stid;
        obj.admrea=admrea;
        obj.accdis=accdis;
        obj.nowdate=today;
        obj.flag=flag;
        obj.status=status;
        this.confirmdiscparam=obj;
        this.$.confirmdiscajax.generateRequest();
      },
      confirmdiscResponse:function(e){
        var resultx=e.detail.response.returnval;
        if(resultx=='success'){
          alert('Updation successfully');
        } else {
          alert('Updation Failed');
        }
        document.querySelector('approvediscount-card').freshappr();
      },
      getapprovalverify:function(){
        this.getapprovalverifyurl=sessionStorage.getItem("addrinfo")+"/getapprovalverify";
        var obj={"schol":"","academic_year":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.getapprovalverifyparam=obj;
        this.$.getapprovalverifyajax.generateRequest();
      },
      getapprovalverifyResponse:function(e){
          var verifyreq=[];
          verifyreq=e.detail.response;
          if(verifyreq=='')
          {
            document.querySelector('transport-app').setPage("nodata","Discount Verification");
          }
          else{document.querySelector('discountverify-card').theriarr=verifyreq;
        }
          //alert(JSON.stringify(verifyreq));
          //verifyreq=[{"name":"dsddsds"},{"name":"eerrere"}];

          //alert(JSON.stringify(document.querySelector('discountverify-card').theriarr));
      },
      confirmedfee:function(stid,fee,status,flag){
        var todat=new Date();
        var today=todat.getFullYear()+"/"+(todat.getMonth()+1)+"/"+todat.getDate();
        this.confirmedfeeurl=sessionStorage.getItem("addrinfo")+"/confirmedfee";
        var obj={"stid":"","fees":"","status":"","date":"","flag":"","schol":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.stid=stid;
        obj.fees=fee;
        obj.status=status;
        obj.date=today;
        obj.flag=flag;
        this.confirmedfeeparam=obj;
        this.$.confirmedfeeajax.generateRequest();
        this.confirmfeeurl=sessionStorage.getItem("addrinfo")+"/confirmfee";
        var obj={"stid":"","fees":"","schol":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.stid=stid;
        obj.fees=fee;
        this.confirmfeeparam=obj;
        this.$.confirmfeeajax.generateRequest();
      },

      confirmfeeResponse:function(e){
          var verifyres=e.detail.response.returnval;
          if(verifyres=='success')
          {
            alert('Fee is confirmed and updatede');
          }
          else
          {
            alert('Operation Failed');
          }
          document.querySelector('discountverify-card').freshapp();
      },
      cancelledfee:function(stid,status,flag){
        this.cancelledfeeurl=sessionStorage.getItem("addrinfo")+"/cancelledfee";
        var obj={"stid":"","status":"","flag":"","schol":""}
        obj.stid=stid;
        obj.status=status;
        obj.flag=flag;
        obj.schol=sessionStorage.getItem("sch");
        this.cancelledfeeparam=obj;
        this.$.cancelledfeeajax.generateRequest();
      },
      cancelledfeeResponse:function(e)
      {
        var resltzx=e.detail.response.returnval;
        if(resltzx=='success')
        {
            alert('Request Cancelled');
        }
        else
        {
            alert('Operation Interupted');
        }
      },
      oneway:function(){

        this.onewayurl="../../configfile/modeofway.json";
        this.$.onewayajax.generateRequest();


      },
      onewayResponse:function(e){

          var temp=[];
          temp=e.detail.response;

          oneway=temp[0].oneway;

          val=(yearlyfee/100)*oneway;
   //alert('222');
      document.querySelector('zonetostudent-card').fee=val;
      },
      onecus:function(){
           this.onecusurl="../../configfile/modeofway.json";
        this.$.onecusajax.generateRequest();
        },
      onecusResponse:function(e){
            var temp=[];
          temp=e.detail.response;

          oneway=temp[0].oneway;

              val=(cusfee/100)*oneway;
         document.querySelector('zonetostudent-card').fee=val;
     // alert('333');
      },
      twoway:function(){
      val=yearlyfee;
      document.querySelector('zonetostudent-card').fee=val;
      },
      twocus:function(){
        val=cusfee;
        document.querySelector('zonetostudent-card').fee=val;
      },
       studzone:function(id){
              this.studzoneurl=sessionStorage.getItem("addrinfo")+"/getstudzone";
              var obj={"stid":"","schol":"","academic_year":""}
              obj.stid=id;
            obj.academic_year=localStorage.getItem("curr_sess_academicyear");
    
              obj.schol=sessionStorage.getItem("sch");
              this.studzoneparam=obj;

              this.$.studzoneajax.generateRequest();
        },
        studzoneResponse:function(e){
          var status=e.detail.response.returnval;
              if(status=='mapped'){
                alert('The student is already mapped You Cannot Map again');
                document.querySelector('zonetostudent-card').FnClear();
              }
            document.querySelector('zonetostudent-card').status=status;
        },
        updatezone:function(studid,zone,fee,fromdatez,todatez,modez,namex,todayx,statusx)
      {
        this.updatezoneurl = sessionStorage.getItem("addrinfo")+"/updatezone";
        var obj={"studid":"","zone":"","fee":"","fromdate":"","todate":"","mode":"","name":"","today":"","status":"","schol":""};
        obj.studid=studid;
        obj.zone=zone;
        obj.fee=fee;
        obj.fromdate=fromdatez;
        obj.todate=todatez;
        obj.mode=modez;
        obj.name=namex;
        obj.today=todayx;
        obj.status=statusx;
        obj.schol=sessionStorage.getItem("sch");
        this.updatezoneparam=obj;
       // alert(JSON.stringify(obj));
        this.$.updatezoneajax.generateRequest();
      },
      updatezoneResponse:function(e){
         var result=e.detail.response.returnval;
         //alert(result);
         if(result=="success")
         {
          alert('Updation done successfully');
         }
         else
         {
          alert('Updation interrupt');
         }
      },
      getpassdetail:function(studid){
          this.getpassnameurl=sessionStorage.getItem("addrinfo")+"/getpassname";
              var obj={"stid":"","schol":"","academic_year":""}
              obj.stid=studid;
              obj.schol=sessionStorage.getItem("sch");
            obj.academic_year=localStorage.getItem("curr_sess_academicyear");
              this.getpassnameparam=obj;
              //alert(JSON.stringify(obj));
              this.$.getpassnameajax.generateRequest();
      },
       getfeedetail:function(studid){
        studentname=studid;
        this.getfeeofzonechangeurl=sessionStorage.getItem("addrinfo")+"/getfeeofzonechange";
          this.getfeedetailurl=sessionStorage.getItem("addrinfo")+"/getfeedetail";
              var obj={"stid":"","schol":""}
              obj.stid=studid;
              obj.schol=sessionStorage.getItem("sch");
              this.getfeedetailparam=obj;
              this.$.getfeedetailajax.generateRequest();
              this.getfeeofzonechangeparam=obj;
              this.$.getfeeofzonechangeajax.generateRequest();
      },
  getzonedetail:function(studid){
        this.getzonedetailurl=sessionStorage.getItem("addrinfo")+"/getzonedetail";
        var obj={"stid":"","schol":"","academic_year":""}
        obj.stid=studid;
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.getzonedetailparam=obj;
        this.$.getzonedetailajax.generateRequest();
      },
      getzonedetailResponse:function(e){
       //alert(JSON.stringify(e.detail.response.returnval)); 
        var zonename=e.detail.response.returnval[0].zone_name;
       // var conumber=e.detail.response.returnval[0].conumber;
        document.querySelector('studentpass-card').zone=zonename.toLowerCase();
         document.querySelector('studentpass-card').conumber=conumber;

      },
      getfeedetailResponse:function(e)
      {
          feedet=e.detail.response.returnval;
          //alert(JSON.stringify(feedet));
          //alert(feedet[0].student_id);
              this.getfeeparenturl=sessionStorage.getItem("addrinfo")+"/getfeeparent";
              var obj={"stid":"","schol":""}
              obj.schol=sessionStorage.getItem("sch");
              obj.stid=feedet[0].student_id;
              this.getfeeparentparam=obj;
              this.$.getfeeparentajax.generateRequest();

},
getfeeofzonechangeResponse:function(e)
      {
        //alert(JSON.stringify(e.detail.response.returnval));
        zonefeechange=e.detail.response.returnval;
        
        },
getfeeparentResponse:function(e)
{

feeparent=e.detail.response.returnval;
this.getfeechequeurl=sessionStorage.getItem("addrinfo")+"/getfeecheque";
              var obj={"stid":"","schol":""}
              obj.schol=sessionStorage.getItem("sch");
              obj.stid=feedet[0].student_id;
              this.getfeechequeparam=obj;
              this.$.getfeechequeajax.generateRequest();
            },
            convertrs:function(value1,fineamt)
      {
      var value=parseInt(value1)+parseInt(fineamt);
      //this.totalfee=value;
      this.fine=fineamt;

        var iWords=["Zero", " One", " Two", " Three", " Four", " Five", " Six", " Seven", " Eight", " Nine"];
    var ePlace=['Ten', ' Eleven', ' Twelve', ' Thirteen', ' Fourteen', ' Fifteen', ' Sixteen', ' Seventeen', ' Eighteen', ' Nineteen'];
    var tensPlace=['dummy', ' Ten', ' Twenty', ' Thirty', ' Forty', ' Fifty', ' Sixty', ' Seventy', ' Eighty', ' Ninety' ];
    var junkVal;
    var obStr;
    var numReversed;
    var totalWords="";
    var inWords=new Array();
    var finalWord="";
    var i,j;
    var actnumber;


    junkVal=value;
    junkVal=Math.floor(junkVal);
    obStr=new String(junkVal);
    numReversed=obStr.split("");
    actnumber=numReversed.reverse();
    var iWordsLength=numReversed.length;
    if(Number(junkVal) >=0)
    {
        //do nothing

    }
    else{
        alert('wrong Number cannot be converted');
        return false;
    }
    if(Number(junkVal)==0){
        this.feeinword=obStr+''+'Rupees Zero Only';
        return false;
    }
    if(actnumber.length>9){
        alert('Oops!!!! the Number is too big to covertes');
        return false;
    }    


    j=0;
    for(i=0; i<iWordsLength; i++)
    {
        switch(i)
        {
        case 0:
            if(actnumber[i]==0 || actnumber[i+1]==1 ) {
                inWords[j]='';
            }
            else {
                inWords[j]=iWords[actnumber[i]];
            }
            inWords[j]=inWords[j]+' Only';
            break;
        case 1:
                    if(actnumber[i]==0) {
                        inWords[j]='';
                    }
                    else if(actnumber[i]==1) {
                        inWords[j]=ePlace[actnumber[i-1]];
                    }
                    else {
                        inWords[j]=tensPlace[actnumber[i]];
                    }
            break;
        case 2:
            if(actnumber[i]==0) {
                inWords[j]='';
            }
            else if(actnumber[i-1]!=0 && actnumber[i-2]!=0) {
                inWords[j]=iWords[actnumber[i]]+' Hundred and';
            }
            else {
                inWords[j]=iWords[actnumber[i]]+' Hundred';
            }
            break;
        case 3:
            if(actnumber[i]==0 || actnumber[i+1]==1) {
                inWords[j]='';
            }
            else {
                inWords[j]=iWords[actnumber[i]];
            }
            if(actnumber[i+1] != 0 || actnumber[i] > 0){
                inWords[j]=inWords[j]+" Thousand";
            }
            break;
        case 4:
                    if(actnumber[i]==0) {
                        inWords[j]='';
                    }
                    else if(actnumber[i]==1) {
                        inWords[j]=ePlace[actnumber[i-1]];
                    }
                    else {
                        inWords[j]=tensPlace[actnumber[i]];
                    }
            break;
        case 5:
            if(actnumber[i]==0 || actnumber[i+1]==1) {
                inWords[j]='';
            }
            else {
                inWords[j]=iWords[actnumber[i]];
            }
            if(actnumber[i+1] != 0 || actnumber[i] > 0){
                inWords[j]=inWords[j]+" Lakh";
            }
            break;
        case 6:
                    if(actnumber[i]==0) {
                        inWords[j]='';
                    }
                    else if(actnumber[i]==1) {
                        inWords[j]=ePlace[actnumber[i-1]];
                    }
                    else {
                        inWords[j]=tensPlace[actnumber[i]];
                    }
            break;
        case 7:
            if(actnumber[i]==0 || actnumber[i+1]==1 ){
                inWords[j]='';
            }
            else {
                inWords[j]=iWords[actnumber[i]];
            }
            inWords[j]=inWords[j]+" Crore";
            break;
        case 8:
                    if(actnumber[i]==0) {
                        inWords[j]='';
                    }
                    else if(actnumber[i]==1) {
                        inWords[j]=ePlace[actnumber[i-1]];
                    }
                    else {
                        inWords[j]=tensPlace[actnumber[i]];
                    }
            break;
        default:
            break;
        }
        j++;
    }

    inWords.reverse();
    for(i=0; i<inWords.length; i++)
     {
        finalWord+=inWords[i];
    }
    this.feeinword='Rs'+'  '+finalWord;
    return finalWord;

},


getfeechequeResponse:function(e)
{
  var feecheque=e.detail.response.returnval;
  var title1;

        var recarr=[];
        var recarr1=[];

        var dt=new Date();
      //var todate=dt.getDate()+"/"+(dt.getMonth()+1)+"/"+dt.getFullYear();
      var yr=dt.getFullYear()+' - '+(dt.getFullYear()+1);
//alert(JSON.stringify(e.detail.response.returnval));
var feezxc=feedet[0].installment_1;
var fineamt=feedet[0].install1_fine;

  document.querySelector('transport-app').setPage("receipt","Receipt");
var word=document.querySelector('transport-service').convertrs(feezxc,fineamt);
//alert(installment_1Date);


if(feedet[0].modeofpayment1=="Cash")
{
title="RECEIPT";
}
else
{
  title="RECEIPT";
}
//alert(feedet[0].newreceiptno_1);


var recobj={"email":"","receiptid":"","studname":"","classname":"","section":"","installtype":"","installfee":"","paytype":"","receiptno":"","fine":""}

var dt1;
  if(feedet[0].newreceiptno_1==''||feedet[0].newreceiptno_1==null)
{

dt1=new Date(feedet[0].installment_1Date);
}
else
{
    dt1=new Date(feedet[0].receipt1_date);
}
 var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
      var curr_date = dt1.getDate();
      var curr_month = dt1.getMonth();
      var curr_year = dt1.getFullYear();
      var todate = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;

      if(feedet[0].newreceiptno_1==''||feedet[0].newreceiptno_1==null)
{
   recobj.receiptno=feedet[0].receipt_no1;
}
else
{
   recobj.receiptno=feedet[0].newreceiptno_1;
}

recobj.studname=studentname;
recobj.classname=feeparent[0].class;
recobj.section=feeparent[0].section;
recobj.installtype="installment1";
recobj.installfee=feedet[0].installment_1;
recobj.paytype=feedet[0].modeofpayment1;
recobj.today=todate;
recobj.fine=feedet[0].install1_fine;
recobj.totalfee=parseInt(feedet[0].installment_1)+parseInt(feedet[0].install1_fine);
recobj.stid=feedet[0].student_id;
recobj.session=yr;
recobj.feeinword=word;
document.querySelector('receipt-card').parent=feeparent[0].parentname;
//recobj.parent=feeparent[0].parentname;
recobj.email=feeparent[0].parentmail;
document.querySelector('receipt-card').parentemail=feeparent[0].parentmail;
document.querySelector('receipt-card').schoolname=sessionStorage.getItem("schoolname");
document.querySelector('receipt-card').schooladdr=sessionStorage.getItem("schooladdr"); 
recobj.title=title;
 var pt=feedet[0].modeofpayment1;
       if(pt=='Cheque')
       {
       // alert('1');
         for(var j=0;j<feecheque.length;j++)
        {
            //alert(feecheque);
          if(feecheque[j].installtype=="installment1")
          {
            //alert('c1');

            //var cqobj={"cheno":"","cqdate":"","bknm":""}
            recobj.cheno=feecheque[j].cheque_no;
            var chdt=new Date(feecheque[j].cheque_date);
            var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
            var curr_date = chdt.getDate();
            var curr_month = chdt.getMonth();
            var curr_year = chdt.getFullYear();
            var todatez = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;
            recobj.cqdate=todatez;
            recobj.bknm=feecheque[j].bank_name;
            feecheque.splice(j,1);
            //cheqarr.push(cqobj);
            document.querySelector('receipt-card').chequearrayview();
            document.querySelector('receipt-card').parentemail=feeparent[0].parentmail;
            //document.querySelector('receipt-card').downloadpdf(recstudid);
          }
          }
       }
recarr.push(recobj);
if(zonefeechange!="invalid")
{
   // alert('true');
var zrecobj={"email":"","receiptid":"","studname":"","classname":"","section":"","installtype":"","installfee":"","paytype":"","receiptno":"","fine":""}
 word=document.querySelector('transport-service').convertrs(zonefeechange[0].installment_1,zonefeechange[0].install1_fine);
var zdt1=new Date(zonefeechange[0].installment_1Date);

 var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
      var curr_date = zdt1.getDate();
      var curr_month = zdt1.getMonth();
      var curr_year = zdt1.getFullYear();
      var ztodate = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;
zrecobj.receiptno=zonefeechange[0].receipt_no1;
zrecobj.studname=studentname;
zrecobj.classname=feeparent[0].class;
zrecobj.section=feeparent[0].section;
zrecobj.installtype="installment1";
zrecobj.installfee=zonefeechange[0].installment_1;
zrecobj.paytype=zonefeechange[0].modeofpayment1;
zrecobj.today=ztodate;
zrecobj.fine=zonefeechange[0].install1_fine;
zrecobj.stid=zonefeechange[0].student_id;
zrecobj.totalfee=parseInt(zonefeechange[0].installment_1)+parseInt(zonefeechange[0].install1_fine);
zrecobj.session=yr;
zrecobj.feeinword=word;
document.querySelector('receipt-card').parent=feeparent[0].parentname;
//recobj.parent=feeparent[0].parentname;
zrecobj.email=feeparent[0].parentmail;
zrecobj.schoolname=sessionStorage.getItem("schoolname");
zrecobj.schooladdr=sessionStorage.getItem("schooladdr");
zrecobj.title=title;

document.querySelector('receipt-card').parentemail=feeparent[0].parentmail;
var zpt=zonefeechange[0].modeofpayment1;
       if(zpt=='Cheque')
       {
       // alert('2');
         for(var j=0;j<feecheque.length;j++)
        {
          if(feecheque[j].installtype=="installment1")
          {

            //var cqobj={"cheno":"","cqdate":"","bknm":""}
            zrecobj.cheno=feecheque[j].cheque_no;
            var chdt=new Date(feecheque[j].cheque_date);
            var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
            var curr_date = chdt.getDate();
            var curr_month = chdt.getMonth();
            var curr_year = chdt.getFullYear();
            var todatez = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;
            zrecobj.cqdate=todatez;
            zrecobj.bknm=feecheque[j].bank_name;
             feecheque.splice(j,1);
            //cheqarr.push(cqobj);
             document.querySelector('receipt-card').chequearrayview();
            //document.querySelector('receipt-card').chequearray(cqobj);
            //document.querySelector('receipt-card').downloadpdf(recstudid);
          }
          }
       }
recarr.push(zrecobj);
}
//alert(JSON.stringify(recarr));
        document.querySelector('receipt-card').receiptarr=recarr;
        var pt=feedet[0].modeofpayment1;
       if(pt=='Cheque')
       {
         for(var j=0;j<feecheque.length;j++)
        {
          if(feecheque[j].installtype=="installment1")
          {

            var cqobj={"cheno":"","cqdate":"","bknm":""}
            cqobj.cheno=feecheque[j].cheque_no;
            var chdt=new Date(feecheque[j].cheque_date);
            var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
            var curr_date = chdt.getDate();
            var curr_month = chdt.getMonth();
            var curr_year = chdt.getFullYear();
            var todatez = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;
            cqobj.cqdate=todatez;
            cqobj.bknm=feecheque[j].bank_name;
             document.querySelector('receipt-card').chequearrayview();
            //cheqarr.push(cqobj);
            //document.querySelector('receipt-card').chequearray(cqobj);
            //document.querySelector('receipt-card').downloadpdf(recstudid);
          }
          }
       }
       if(feedet[0].installment_2>0)
       {
          var recarr1=[];
        var dt2=new Date();
      //var todate=dt.getDate()+"/"+(dt.getMonth()+1)+"/"+dt.getFullYear();
      var yr2=dt2.getFullYear()+' - '+(dt2.getFullYear()+1);
      // alert(JSON.stringify(e.detail.response.returnval));
var feezxc=feedet[0].installment_2;
var fineamt=feedet[0].install2_fine;
  //document.querySelector('transport-app').setPage("receipt","Receipt");
 var chword=document.querySelector('transport-service').convertrs(feezxc,fineamt);
//alert(installment_1Date);
var dt3;
  if(feedet[0].newreceiptno_2==''||feedet[0].newreceiptno_2==null)
{

dt3=new Date(feedet[0].installment_2Date);
}
else
{
    dt3=new Date(feedet[0].receipt2_date);
}

 var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
      var curr_date = dt3.getDate();
      var curr_month = dt3.getMonth();
      var curr_year = dt3.getFullYear();
      var todate1 = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;

if(feedet[0].modeofpayment2=="Cash")
{
title1="RECEIPT";
}
else
{
  title1="ACKNOWLEDGEMENT";
}

var recobj1={"email":"","receiptid":"","studname":"","classname":"","section":"","installtype":"","installfee":"","paytype":"","receiptno":"","fine":""}
  if(feedet[0].newreceiptno_2==''||feedet[0].newreceiptno_2==null)
{
   recobj1.receiptno=feedet[0].receipt_no2;
}
else
{
    title1="RECEIPT";
   recobj1.receiptno=feedet[0].newreceiptno_2;
}
//recobj1.receiptno=feedet[0].receipt_no2;
recobj1.studname=studentname;
recobj1.classname=feeparent[0].class;
recobj1.section=feeparent[0].section;
recobj1.installtype="installment2";
recobj1.installfee=feedet[0].installment_2;
recobj1.paytype=feedet[0].modeofpayment2;
recobj1.today=todate1;
recobj1.stid=feedet[0].student_id;
recobj1.fine=feedet[0].install2_fine;
recobj1.totalfee=parseInt(feedet[0].installment_2)+parseInt(feedet[0].install2_fine);
recobj1.feeinword=chword;
recobj1.session=yr2;
//recobj1.parent=feeparent[0].parentname;
document.querySelector('cqreceipt-card').parent=feeparent[0].parentname;
recobj1.email=feeparent[0].parentmail;
recobj1.schoolname=sessionStorage.getItem("schoolname");
recobj1.schooladdr=sessionStorage.getItem("schooladdr");
recobj1.title=title1;
var pt1=feedet[0].modeofpayment2;
       if(pt1=='Cheque')
       {
        //alert('3');
  for(var j=0;j<feecheque.length;j++)
        {
            //alert(feecheque);
          if(feecheque[j].installtype=="installment2")
          {
               //alert('c3');
            var cqobj1={"cheno":"","cqdate":"","bknm":""}
            recobj1.cheno=feecheque[j].cheque_no;
            var chdt1=new Date(feecheque[j].cheque_date);
            var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
            var curr_date = chdt1.getDate();
            var curr_month = chdt1.getMonth();
            var curr_year = chdt1.getFullYear();
            var todatezz = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;
            recobj1.cqdate=todatezz;
            recobj1.bknm=feecheque[j].bank_name;
             feecheque.splice(j,1);
            //cheqarr.push(cqobj);
             document.querySelector('cqreceipt-card').chequearrayview();
            //document.querySelector('cqreceipt-card').chequearray(cqobj1);
            //document.querySelector('receipt-card').downloadpdf(recstudid);
          }
          }
       }



recarr1.push(recobj1);
}
document.querySelector('cqreceipt-card').parentemail=feeparent[0].parentmail;

if(zonefeechange!="invalid")
{
    //alert('true');
var zrecobj1={"email":"","receiptid":"","studname":"","classname":"","section":"","installtype":"","installfee":"","paytype":"","receiptno":"","fine":""}
 chword=document.querySelector('transport-service').convertrs(zonefeechange[0].installment_2,zonefeechange[0].install2_fine);
var zdt2=new Date(zonefeechange[0].installment_2Date);

 var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
      var curr_date = zdt2.getDate();
      var curr_month = zdt2.getMonth();
      var curr_year = zdt2.getFullYear();
      var ztodate1 = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;
zrecobj1.receiptno=zonefeechange[0].receipt_no2;
zrecobj1.studname=studentname;
zrecobj1.classname=feeparent[0].class;
zrecobj1.section=feeparent[0].section;
zrecobj1.installtype="installment2";
zrecobj1.installfee=zonefeechange[0].installment_2;
zrecobj1.paytype=zonefeechange[0].modeofpayment2;
zrecobj1.today=ztodate1;
zrecobj1.fine=zonefeechange[0].install2_fine;
zrecobj1.stid=zonefeechange[0].student_id;
zrecobj1.totalfee=parseInt(zonefeechange[0].installment_2)+parseInt(zonefeechange[0].install2_fine);
zrecobj1.session=yr;
zrecobj1.feeinword=chword;
//document.querySelector('receipt-card').parent=feeparent[0].parentname;
//recobj.parent=feeparent[0].parentname;
zrecobj1.email=feeparent[0].parentmail;
zrecobj1.schoolname=sessionStorage.getItem("schoolname");
zrecobj1.schooladdr=sessionStorage.getItem("schooladdr");
zrecobj1.title=title;

var pt1=feedet[0].modeofpayment2;
       if(pt1=='Cheque')
       {
        //alert('4');
  for(var j=0;j<feecheque.length;j++)
        {
          if(feecheque[j].installtype=="installment2")
          {

            var cqobj1={"cheno":"","cqdate":"","bknm":""}
            zrecobj1.cheno=feecheque[j].cheque_no;
            var chdt1=new Date(feecheque[j].cheque_date);
            var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
            var curr_date = chdt1.getDate();
            var curr_month = chdt1.getMonth();
            var curr_year = chdt1.getFullYear();
            var todatezz = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;
            zrecobj1.cqdate=todatezz;
            zrecobj1.bknm=feecheque[j].bank_name;
             feecheque.splice(j,1);
            //cheqarr.push(cqobj);
             document.querySelector('cqreceipt-card').chequearrayview();
            //document.querySelector('cqreceipt-card').chequearray(cqobj1);
            //document.querySelector('receipt-card').downloadpdf(recstudid);
          }
          }
       }
//document.querySelector('receipt-card').parentemail=feeparent[0].parentmail;
recarr1.push(zrecobj1);

}

//alert(JSON.stringify(recarr1));

document.querySelector('cqreceipt-card').receiptarr=recarr1;
 document.querySelector('receipt-card').getinstall2(recarr1);
 var pt1=feedet[0].modeofpayment2;
       if(pt1=='Cheque')
       {
  for(var j=0;j<feecheque.length;j++)
        {
          if(feecheque[j].installtype=="installment2")
          {

            var cqobj1={"cheno":"","cqdate":"","bknm":""}
            cqobj1.cheno=feecheque[j].cheque_no;
            var chdt1=new Date(feecheque[j].cheque_date);
            var m_names = new Array("Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep","Oct", "Nov", "Dec");
            var curr_date = chdt1.getDate();
            var curr_month = chdt1.getMonth();
            var curr_year = chdt1.getFullYear();
            var todatezz = curr_date + "-" + m_names[curr_month]+ "-" + curr_year;
            cqobj1.cqdate=todatezz;
            cqobj1.bknm=feecheque[j].bank_name;
            //cheqarr.push(cqobj);
            document.querySelector('cqreceipt-card').chequearray(cqobj1);
            //document.querySelector('receipt-card').downloadpdf(recstudid);
          }
          }
       }






      },

      getpassnameResponse:function(e){
          var idst=e.detail.response.returnval[0].id;
          var classid=e.detail.response.returnval[0].class;
          var bloodgp=e.detail.response.returnval[0].blood_group;
          document.querySelector('studentpass-card').blood=bloodgp;
          document.querySelector('studentpass-card').sid=idst;
          document.querySelector('studentpass-card').classid=classid;
     
          //alert('st d '+idst);
          this.getpassdetailurl=sessionStorage.getItem("addrinfo")+"/getpassdetail";
          var obj={"stid":"","schol":"","academic_year":""}
          obj.stid=idst;
          obj.academic_year=localStorage.getItem("curr_sess_academicyear");
          obj.schol=sessionStorage.getItem("sch");
          this.getpassdetailparam=obj;
          this.$.getpassdetailajax.generateRequest();


          this.getparentinfourl=sessionStorage.getItem("addrinfo")+"/getparentinfo";
          this.getparentinfoparam=obj;
          //alert(JSON.stringify(obj));
          this.$.getparentinfoajax.generateRequest();


          this.getpassclassurl=sessionStorage.getItem("addrinfo")+"/getpassclass";
          var obj3={"class":"","schol":"","academic_year":""}
          obj3.class=classid;
          obj3.schol=sessionStorage.getItem("sch");
          obj3.academic_year=localStorage.getItem("curr_sess_academicyear");
    
          this.getpassclassparam=obj3;
          this.$.getpassclassajax.generateRequest();
      },
       getpassdetailResponse:function(e){
        var pp=e.detail.response.returnval[0].pickup_point;
        var dp=e.detail.response.returnval[0].drop_point;
        var pickrou = e.detail.response.returnval[0].pickup_route_id;
        var droprou = e.detail.response.returnval[0].drop_route_id;

          this.getppnameurl=sessionStorage.getItem("addrinfo")+"/getpointname";
              var obj={"point":"","schol":"","academic_year":""}
              obj.point=pp;
              obj.academic_year=localStorage.getItem("curr_sess_academicyear");
              obj.schol=sessionStorage.getItem("sch");
             this.getppnameparam=obj;
              this.$.getppnameajax.generateRequest();

          this.getdpnameurl=sessionStorage.getItem("addrinfo")+"/getpointname";
          var obj2={"point":"","schol":"","academic_year":""}
            obj2.point=dp;
            obj2.academic_year=localStorage.getItem("curr_sess_academicyear");
            obj2.schol=sessionStorage.getItem("sch");
          this.getdpnameparam=obj2;
          this.$.getdpnameajax.generateRequest();

          this.getpickrouurl=sessionStorage.getItem("addrinfo")+"/getroutename";
          var obj3={"route":"","schol":"","academic_year":""}
          obj3.route=pickrou;
           obj3.academic_year=localStorage.getItem("curr_sess_academicyear");
           obj3.schol=sessionStorage.getItem("sch");
          this.getpickrouparam=obj3;

          this.$.getpickrouajax.generateRequest();

          this.getdroprouurl=sessionStorage.getItem("addrinfo")+"/getroutename";
          var obj4={"route":"","schol":"","academic_year":""}
          obj4.route=droprou;
       obj4.academic_year=localStorage.getItem("curr_sess_academicyear");
          obj4.schol=sessionStorage.getItem("sch");
          this.getdroprouparam=obj4;
          //alert(JSON.stringify(obj4));
          this.$.getdroprouajax.generateRequest();
        },
        getppnameResponse:function(e){
            var pickupoint=e.detail.response.returnval[0].point_name;
            document.querySelector('studentpass-card').pickup=pickupoint;
        },
        getdpnameResponse:function(e){
            var droppoint=e.detail.response.returnval[0].point_name;
            document.querySelector('studentpass-card').drop=droppoint;
        },
        getpickrouResponse:function(e){
            var pickuproute=e.detail.response.returnval[0].route_name;
            document.querySelector('studentpass-card').pickuprout=pickuproute;
        },
        getdroprouResponse:function(e){
            var droproute=e.detail.response.returnval[0].route_name;
            document.querySelector('studentpass-card').droprout=droproute;
        },
        getpassclassResponse:function(e){
          var cordinatono=e.detail.response.returnval[0].cordinator_no;
          document.querySelector('studentpass-card').cordinatono=cordinatono;
        },
        getparentinfoResponse:function(e){
   //alert(JSON.stringify(e.detail.response.returnval));
          var dad1=e.detail.response.returnval[0].parent_name;
            var  add1=e.detail.response.returnval[0].address1;
            var  add2=e.detail.response.returnval[0].address2; 
            var  add3=e.detail.response.returnval[0].address3; 
            var add4=e.detail.response.returnval[0].city;
            var pin=e.detail.response.returnval[0].pincode;
           document.querySelector('studentpass-card').address1=add1;
          
               if(add2==null||add2==""){
                  document.querySelector('studentpass-card').address2=add2;
          
            }
           if(add3==null||add3==""){
              document.querySelector('studentpass-card').address3=add3;
          
            }
           if(add4==null||add4==""){
               document.querySelector('studentpass-card').town=add4;
         
            }
           if(pin==null||pin==""){
                document.querySelector('studentpass-card').pin=pin;
        
            }
        
        
            var mob=e.detail.response.returnval[0].mobile;

            document.querySelector('studentpass-card').parent=dad1;
            document.querySelector('studentpass-card').mobno=mob;

        },
        classesx:function(){
            this.classurl = sessionStorage.getItem("addrinfo")+"/selectclasses";
            var obj={"schol":""}
            obj.schol=sessionStorage.getItem("sch");
            this.classparam=obj;
            this.$.classesajax.generateRequest();
        },
        classesResponse:function(e){
            var select_class=e.detail.response.returnval;
            document.querySelector('student-detail-card').select_class=select_class;
        },
        addstudent:function(student_id,first_name, last_name,stu_class, stu_schooltype,stu_transport, parent_name,parent_email, parent_mobile, address_1, address_2, address_3, city, pincode,dob){
            this.addstudenturl=sessionStorage.getItem("addrinfo")+"/addstudent";
            var obj={"student_id":"","student_name":"","stu_class":"","stu_schooltype":"","stu_transport":"","dob":"","schol":""}
            obj.student_id = student_id;
            obj.student_name=first_name+" "+last_name;
            obj.stu_class=stu_class;
            obj.stu_schooltype=stu_schooltype;
            obj.stu_transport=stu_transport;
            obj.dob=dob;
            obj.schol=sessionStorage.getItem("sch");
            this.addstudentparam=obj;
            this.$.addstudentajax.generateRequest();

            this.addparenturl=sessionStorage.getItem("addrinfo")+"/addparent";
       var obj1={"schol":"","student_id":"","parentname":"","pemail":"","pmobile":"","addr1":"","addr2":"","addr3":"","city":"","pincode":""}
            obj1.schol=sessionStorage.getItem("sch");
            obj1.student_id = student_id;
            obj1.parentname=parent_name;
            obj1.pmobile=parent_mobile;
            obj1.pemail=parent_email;
            obj1.addr1=address_1;
            obj1.addr2 = address_2;
            obj1.addr3=address_3;
            obj1.city=city;
            obj1.pincode=pincode;
            this.addparentparam=obj1;
            //alert(JSON.stringify(obj1));
            this.$.addparentajax.generateRequest();


        },
        addstudentResponse:function(e){
            var addstudent=e.detail.response.returnval;
            if(addstudent=='success')
            {
                    alert('Student added successfully');
            }
            document.querySelector('student-detail-card').FnClear();
            document.querySelector('student-detail-card').ready();
        },
        getchequedetailsbyname:function(e){
           this.getchequedetailsbynameurl=sessionStorage.getItem("addrinfo")+"/getchequedetailsbyname";
           var obj={"schol":""}
           obj.schol=sessionStorage.getItem("sch");
           this.getchequedetailsbynameparam=obj;
           this.$.getchequedetailsbynameajax.generateRequest();

        },
        getchequedetailsbynameResponse:function(e){
            var nameitem=e.detail.response.returnval;
            document.querySelector('editcheque-card').autocompletearr(nameitem);

        },
        editcheque:function(student_name){
           this.getchequedetailsurl=sessionStorage.getItem("addrinfo")+"/getchequedetails";
           var obj={"schol":"","student_name":""}
           obj.schol=sessionStorage.getItem("sch");
           obj.student_name=student_name;
           this.getchequedetailsparam=obj;
           //alert(JSON.stringify(obj));
           this.$.getchequedetailsajax.generateRequest();
        },
        editchequeResponse:function(e){
            editchequedetail=e.detail.response.returnval;
            //alert(JSON.stringify(editchequedetail));
            this.geteditchequeurl=sessionStorage.getItem("addrinfo")+"/geteditcheque";
            var obj={"schol":"","stid":""}
            obj.schol=sessionStorage.getItem("sch");
            obj.stid=editchequedetail[0].student_id;
            this.geteditchequeparam=obj;
            //alert(JSON.stringify(obj));
            this.$.geteditchequeajax.generateRequest();
            //document.querySelector('studentpass-card').chequedetailarr=chequedetail;
        },
        geteditchequeResponse:function(e){
           var chequearr1=[];
            var chequearr2=[];
            var editcq=e.detail.response.returnval;
            //alert(JSON.stringify(e.detail.response.returnval));
            var id = e.detail.response.returnval[0].student_id;
            var name = e.detail.response.returnval[0].name;
             if(editchequedetail[0].modeofpayment1=="Cheque"&& editchequedetail[0].install1_status=="processing")
             {
            var obj={"installtype1":"","installamt1":"","paytype1":"","chequenum1":"","bankname1":"","chequedate1":""}
            obj.installamt1=editchequedetail[0].installment_1;
            obj.paytype1=editchequedetail[0].modeofpayment1;
            obj.installtype1="installment1";
            if(editchequedetail[0].modeofpayment1=="Cheque")
            {
                for(var i=0;i<editcq.length;i++)
                {
                    if(editcq[i].installtype=="installment1")
                    {
                        obj.chequenum1=editcq[i].cheque_no;
                        obj.bankname1=editcq[i].bank_name;
                        obj.chequedate1=editcq[i].cheque_date;
                    }
                }
            }
            chequearr1.push(obj);
             document.querySelector('editcheque-card').editarr1=chequearr1;
        }
        if(editchequedetail[0].modeofpayment2=="Cheque"&& editchequedetail[0].install2_status=="processing")
             {
            var obj1={"installtype2":"","installamt2":"","paytype2":"","chequenum2":"","bankname2":"","chequedate2":""}
            obj1.installamt2=editchequedetail[0].installment_2;
            obj1.paytype2=editchequedetail[0].modeofpayment2;
            obj1.installtype2="installment2";
            if(editchequedetail[0].modeofpayment2=="Cheque")
            {
                for(var j=0;j<editcq.length;j++)
                {
                    if(editcq[j].installtype=="installment2")
                    {
                        obj1.chequenum2=editcq[j].cheque_no;
                        obj1.bankname2=editcq[j].bank_name;
                        obj1.chequedate2=editcq[j].cheque_date;
                    }
                }
            }
            chequearr2.push(obj1);
            document.querySelector('editcheque-card').editarr2=chequearr2;
            
        }
            
            
           
            
            document.querySelector('editcheque-card').id=id;
            document.querySelector('editcheque-card').name=name;
        },
        driver_count:function(){
            this.drivercounturl = sessionStorage.getItem("addrinfo")+"/driver_count";
            var obj = {"schol":""};
            obj.schol=sessionStorage.getItem("sch");
            this.drivercountparam=obj;
            this.$.drivercountajax.generateRequest();
       },
         drivercountResponse:function(e){
            driver_counts = e.detail.response.returnval[0].driver_count;
             // alert(JSON.stringify(driver_counts));
           },
        driver:function(first_name,last_name,mobile_no,licence_no,address_1,address_2,address_3,city,pincode,lic_exp, when_employed){
            this.driverurl = sessionStorage.getItem("addrinfo")+"/driver";
            var  increase1 = driver_counts;
            var driver_id = "Driver "+increase1;
            //alert(driver_id);
            var obj={"id":"","first_name":"","last_name":"","mobile_no":"","licence_no":"","address_1":"","address_2":"","address_3":"","city":"","pincode":"","lic_exp":"", "schol":"","since_when_employed":"","academic_year":""};
            obj.first_name=first_name;
            obj.last_name=last_name;
            obj.mobile_no=mobile_no;
            obj.licence_no=licence_no;
            obj.address_1=address_1;
            obj.schol=sessionStorage.getItem("sch");
            obj.academic_year=localStorage.getItem("curr_sess_academicyear");
            obj.address_2=address_2;
            obj.address_3=address_3;
            obj.city=city;
            obj.pincode=pincode;
            obj.id = driver_id;
            obj.lic_exp=lic_exp;
            obj.since_when_employed=when_employed;
            this.driverparam=obj;
         //   alert(JSON.stringify(obj));
            this.$.driverajax.generateRequest();

        },
        increasedriveridResponse:function(e){
          var result=e.detail.response.returnval;
        },
        driverResponse:function(e){
            var result=e.detail.response.returnval;
            if(result=="success"){
                alert('Driver Details Added');
              this.increasedriveridurl=sessionStorage.getItem("addrinfo")+"/increasedriverid";
              var obj1={"driver_id":"","schol":""}
              obj1.driver_id=driver_counts;
              obj1.schol=sessionStorage.getItem("sch");
              this.increasedriveridparam=obj1;
              this.$.increasedriveridajax.generateRequest();
             // alert('1');

                 this.driver_count();
     
                document.querySelector('driver-card').FnClear();
            
            } else {
                alert('Error! Driver Details Not Added');
            }

        },
        attender_count:function(){
            this.attendercounturl = sessionStorage.getItem("addrinfo")+"/attender_count";
            var obj = {"schol":""};
            obj.schol=sessionStorage.getItem("sch");
            this.attendercountparam=obj;
          // alert(JSON.stringify(obj));
            this.$.attendercountajax.generateRequest();
        },
        attendercountResponse:function(e){
            attender_counts = e.detail.response.returnval[0].attender_count;
                   //alert(JSON.stringify(attender_counts))
        },
        attender:function(first_name,last_name,mobile_no,address_1,address_2,address_3,city,pincode,when_employed){
            this.attenderurl = sessionStorage.getItem("addrinfo")+"/attender";
            var  increase1 = attender_counts;
            var attender_id = "Attender "+increase1;
            var obj={"id":"","first_name":"","last_name":"","mobile_no":"","address_1":"","address_2":"","address_3":"","city":"","pincode":"", "schol":"","since_when_employed":"","academic_year":""};
            obj.first_name=first_name;
            obj.last_name=last_name;
            obj.mobile_no=mobile_no;
            obj.address_1=address_1;
            obj.schol=sessionStorage.getItem("sch");
               obj.academic_year=localStorage.getItem("curr_sess_academicyear");
    
            obj.address_2=address_2;
            obj.address_3=address_3;
            obj.city=city;
            obj.pincode=pincode;
            obj.id = attender_id;
            obj.since_when_employed = when_employed;
            this.attenderparam=obj;
            //alert(JSON.stringify(obj));
            this.$.attenderajax.generateRequest();
        },
        increaseattenderidResponse:function(e){
            var result=e.detail.response.returnval;
        },
        attenderResponse:function(e){
            var result=e.detail.response.returnval;
            if(result=="success"){
                alert('Attender Details Added');
                this.increaseattenderidurl=sessionStorage.getItem("addrinfo")+"/increaseattenderid";
                var obj1={"attender_id":"","schol":""}
                obj1.attender_id=attender_counts;
                obj1.schol=sessionStorage.getItem("sch");
                this.increaseattenderidparam=obj1;
                this.$.increaseattenderidajax.generateRequest();
                document.querySelector('attender-card').FnClear();
                this.attender_count();
            } else {
                alert('Error! Attender Details Not Added');
            }
        },
        verify:function(id){
            this.verifyurl=sessionStorage.getItem("addrinfo")+"/verify";
            var obj={"schol":"","stid":""}
            obj.schol=sessionStorage.getItem("sch");
            obj.stid=id;
            this.verifyparam=obj;
            //alert(JSON.stringify(obj));
            this.$.verifyajax.generateRequest();
        },
        verifyResponse:function(e){
        var res=e.detail.response.returnval;
        if(res=='success')
        {
            alert('The Id Is Already Exist Please Change it');
            var d='';
            document.querySelector('student-detail-card').student_id=d;
        }
        },
      bus_count:function(){
        this.buscounturl = sessionStorage.getItem("addrinfo")+"/bus_count";
        var obj = {"schol":""};
        obj.schol=sessionStorage.getItem("sch");
        this.buscountparam=obj;
    //    alert(JSON.stringify(obj));
        this.$.buscountajax.generateRequest();
      },
      buscountResponse:function(e){
        bus_counts = e.detail.response.returnval[0].bus_count;
   // alert(JSON.stringify(bus_counts));
      },
      bus:function(made,no_of_seats,insurance_no,insurance_co,last_service,insurance_exp,next_service, make_year, bus_no){
        this.busurl = sessionStorage.getItem("addrinfo")+"/bus";
        var  increase1 = bus_counts;
        var bus_id = "Bus "+increase1;
       // alert(bus_id);
        var obj={"id":"","made":"","no_of_seats":"","insurance_no":"","insurance_co":"","last_service":"","insurance_exp":"","next_service":"", "schol":"", "make_year":"", "bus_no":"","academic_year":""};
        obj.made=made;
        obj.no_of_seats=no_of_seats;
        obj.insurance_no=insurance_no;
        obj.insurance_co=insurance_co;
        obj.schol=sessionStorage.getItem("sch");
       obj.academic_year=localStorage.getItem("curr_sess_academicyear");
     
        obj.last_service=last_service;
        obj.insurance_exp=insurance_exp;
        obj.next_service=next_service;
        obj.id = bus_id;
        obj.make_year = make_year;
        obj.bus_no = bus_no;
        this.busparam=obj;
        //alert(JSON.stringify(obj));
        this.$.busajax.generateRequest();
      },
      increasebusidResponse:function(e){
        var result=e.detail.response.returnval;
      },
      busResponse:function(e){
        var result=e.detail.response.returnval;
        if(result=="success"){
          alert('Bus Details Added');
          this.increasebusidurl=sessionStorage.getItem("addrinfo")+"/increasebusid";
          var obj1={"bus_id":"","schol":""}
          obj1.bus_id=bus_counts;
          obj1.schol=sessionStorage.getItem("sch");
          this.increasebusidparam=obj1;
          this.$.increasebusidajax.generateRequest();
          document.querySelector('bus-card').FnClear();
          this.bus_count();
        } else {
          alert('Error! Bus Details Not Added');
        }
      },
      bustoroute:function(){
        this.bustorouteurl = sessionStorage.getItem("addrinfo")+"/bustoroute";
        var obj = {"schol":""};
        obj.schol=sessionStorage.getItem("sch");
        this.bustorouteparam=obj;
       // alert(JSON.stringify(obj));
        this.$.bustorouteajax.generateRequest();
      },
      bustorouteResponse:function(e){
        bustoroute = e.detail.response.returnval;
        document.querySelector('bus-route-card').routearray=bustoroute;
        document.querySelector('bus-route-item-card').callajaxfn();
      },
      bustoroutesubmit:function(itemarr){
        len=itemarr.length;
        for(var i=0;i<itemarr.length;i++){
          var obj={"routeid":"","bus":"","driver":"","attender":"","trip":"","schol":"","updated_by":""};
          obj.routeid=itemarr[i].routeid;
          obj.bus=itemarr[i].bus;
          obj.driver=itemarr[i].driver;
          obj.attender=itemarr[i].attender;
          obj.trip=itemarr[i].trip;
          obj.schol=sessionStorage.getItem("sch");
          obj.updated_by = sessionStorage.getItem("userinfo");
          this.bustoroutesubmiturl=sessionStorage.getItem("addrinfo")+"/bustoroutesubmit";
          this.bustoroutesubmitparam=obj;
          //alert(JSON.stringify(obj));
          this.$.bustoroutesubmitajax.generateRequest();
        }
    },
    bustoroutesubmitResponse:function(e){
        var result=e.detail.response.returnval;
        if(result=="success"){
          alert('Bus to Route Allocated');
          document.querySelector('bus-route-card').FnClear();
          document.querySelector('bus-route-item-card').FnClear();
        }
        else
           {
            alert('Error! Bus to Route Not Allocated');
           }
      },
      busreport:function(){
        this.busreporturl=sessionStorage.getItem("addrinfo")+"/busreport";
        var obj = {"scho":"","academic_year":""};
        obj.scho=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.busreportparam=obj;
        //alert(JSON.stringify(obj));
        this.$.busreportajax.generateRequest();
      },
      busreportResponse:function(e){
        var busreport=e.detail.response.returnval;
        //alert(JSON.stringify(busreport));
        document.querySelector('bus-report').busreportarr=busreport;
      },
      busdetails:function(){
         this.routetobusurl = sessionStorage.getItem("addrinfo")+"/routetobus";
        var obj = {"schol":"","academic_year":""};
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.routetobusparam=obj;
       //alert(JSON.stringify(obj));
        this.$.routetobusajax.generateRequest();


        this.bustodriverurl = sessionStorage.getItem("addrinfo")+"/bustodriver";
        var obj = {"schol":"","academic_year":""};
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.bustodriverparam=obj;
        //alert(JSON.stringify(obj));
        this.$.bustodriverajax.generateRequest();


        this.bustoattenderurl = sessionStorage.getItem("addrinfo")+"/bustoattender";
        var obj = {"schol":"","academic_year":""};
        obj.schol=sessionStorage.getItem("sch");
        this.bustoattenderparam=obj;
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        //alert(JSON.stringify(obj));
        this.$.bustoattenderajax.generateRequest();
    },
     routetobusResponse:function(e){
        var routetobus = e.detail.response.returnval;
        document.querySelector('vehicleroute-card').routetobus=routetobus;
      },
      bustodriverResponse:function(e){
        var bustodriver = e.detail.response.returnval;
        document.querySelector('vehicleroute-card').bustodriver=bustodriver;
      },
      bustoattenderResponse:function(e){
        var bustoattender = e.detail.response.returnval;
        document.querySelector('vehicleroute-card').bustoattender=bustoattender;
      },
      mapbustoroute:function(route,bus,driver,attender,val){
        var dat2=new Date();
            var today = dat2.getFullYear()+"/"+(dat2.getMonth()+1)+"/"+dat2.getDate();
      this.mapbustorouteurl = sessionStorage.getItem("addrinfo")+"/mapbustoroute";
        var obj = {"schol":"","route":"","bus":"","driver":"","attender":"","trip":"","updatedby":"","updateon":"","academic_year":""};
        obj.schol=sessionStorage.getItem("sch");
        obj.route=route;
        obj.bus=bus;
        obj.driver=driver;
        obj.attender=attender;
        obj.trip=val;
        obj.updatedby=sessionStorage.getItem("userinfo");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
      
        obj.updateon=today;
        this.mapbustorouteparam=obj;
        this.$.mapbustorouteajax.generateRequest();
      },
      mapbustorouteResponse:function(e){
        var result=e.detail.response.returnval;
        if(result=='success'){
            alert("Mapping is Completed");
            document.querySelector('vehicleroute-card').FnClear();
        }
        else
        {
            alert('Mapping is Failed');
        }
      },
      getgrade:function(){
        this.getgradeurl = sessionStorage.getItem("addrinfo")+"/getgrade";
        var obj = {"schol":""};
        obj.schol=sessionStorage.getItem("sch");
        this.getgradeparam=obj;
        //alert(JSON.stringify(obj));
        //alert('hi');
        this.$.getgradeajax.generateRequest();
      },
      getgradeResponse:function(e){
        var gradearr=e.detail.response.returnval;
        document.querySelector('gradewiseroute-report').gradearr=gradearr;
        //alert(JSON.stringify(gradearr));
      },
      summary:function(){
        this.summaryurl = sessionStorage.getItem("addrinfo")+"/summary";
        var obj = {"schol":""};
        obj.schol=sessionStorage.getItem("sch");
        this.summaryparam=obj;
        //alert(JSON.stringify(obj));
        //alert('hi');
        this.$.summaryajax.generateRequest();
      },
      summaryResponse:function(e){
        var summaryarr=e.detail.response.returnval;
        document.querySelector('summary-report').summaryarr=summaryarr;
        //alert(JSON.stringify(summaryarr));
      },
      summarydrop:function(){
        this.summarydropurl = sessionStorage.getItem("addrinfo")+"/summarydrop";
        var obj = {"schol":""};
        obj.schol=sessionStorage.getItem("sch");
        this.summarydropparam=obj;
        //alert(JSON.stringify(obj));
        //alert('hi');
        this.$.summarydropajax.generateRequest();
      },
      summarydropResponse:function(e){
        var summarydroparr=e.detail.response.returnval;
        document.querySelector('summary-report').summarydroparr=summarydroparr;
        //alert(JSON.stringify(summarydroparr));
      },
      attendancereport:function(attendancedate)
      {
        //alert(attendancedate);
         this.attendancereporturl = sessionStorage.getItem("addrinfo")+"/attendance-card";
         var obj = {"schol":"","adate":""};
        obj.schol=sessionStorage.getItem("sch");
        obj.adate=attendancedate;
         this.attendancereportparam=obj;
        this.$.attendancereportajax.generateRequest();
      },
      attendancereportResponse:function(e)
      {
        alert(JSON.stringify(e.detail.response.returnval));
        var attendancearr=e.detail.response.returnval;
                   var obj={};
        document.querySelector('attendance-card').attendancearr=attendancearr;

      }, 
      getstudentsforattendance:function(route,trip,pickupordrop){
      if(pickupordrop=="Pickup"){
        this.getstudentsforattendancepickupurl=sessionStorage.getItem("addrinfo")+"/getstudentsforattendancepickup";
        var obj={"routeid":"","tripid":"","schol":"","academic_year":""}
       obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        obj.routeid=route;
        obj.tripid=trip;
        this.getstudentsforattendancepickupparam=obj;
        //alert(JSON.stringify(obj));
        //alert(JSON.stringify(obj));
        //alert('hi');
        this.$.getstudentsforattendancepickupajax.generateRequest();
      } else {
        this.getstudentsforattendancedropurl=sessionStorage.getItem("addrinfo")+"/getstudentsforattendancedrop";
        var obj={"routeid":"","tripid":"","schol":"","academic_year":""}
         obj.academic_year=localStorage.getItem("curr_sess_academicyear");
         obj.schol=sessionStorage.getItem("sch");
         obj.routeid=route;
         obj.tripid=trip;
        this.getstudentsforattendancedropparam=obj;
        this.$.getstudentsforattendancedropajax.generateRequest();
      }
    },
      getstudentsforattendancepickupResponse:function(e)
      {
        var result=e.detail.response.returnval;
        if(result=='invalid'){

            alert('Error! Attendance marked for this trip or No students Mapped');
        } else {
             var temarr=[];
              for( var i=0;i<result.length;i++){
               var obj={"student_id":"","name":"","studentidz":""};
               obj.student_id=result[i].student_id;
               obj.name=result[i].name;
                var studentidz=result[i].student_id;
               obj.studentidz=studentidz.replace(/[^\w\s]/gi,'');
               temarr.push(obj);}
             alert(JSON.stringify(temarr));
          

            document.querySelector('addattendence-card').attendancearr=temarr;
        }
      },
      getstudentsforattendancedropResponse:function(e)
      {
        var result=e.detail.response.returnval;
        if(result=='invalid'){
            alert('Error! Attendance marked for this trip or No students Mapped');
        } else {
          var temarr=[];
               for( var i=0;i<result.length;i++){
            var obj={"student_id":"","name":"","studentidz":""};
               obj.student_id=result[i].student_id;
               obj.name=result[i].name;
                var studentidz=result[i].student_id;
                obj.studentidz=studentidz.replace(/[^\w\s]/gi,'');;
               temarr.push(obj);
           }
             alert(JSON.stringify(temarr));
          
       document.querySelector('addattendence-card').attendancearr=temarr;
        }
      },
      submitattendance:function(itemarr){
        var len=itemarr.length;
        lenx=len;
        var obj={"studentid":"","student_name":"","routeid":"","trip":"","pickupordrop":"","date":"","status":"","schol":""};
        for(var i=0;i<itemarr.length;i++){
            obj.studentid=itemarr[i].studentid;
            obj.student_name=itemarr[i].student_name;
            obj.routeid=itemarr[i].routeid;
            obj.trip=itemarr[i].trip;
            obj.pickupordrop=itemarr[i].pickupordrop;
            obj.date=itemarr[i].date;
            obj.status=1;
            obj.schol=sessionStorage.getItem("sch");
            obj.academic_year=localStorage.getItem("curr_sess_academicyear");
            this.submitattendanceurl=sessionStorage.getItem("addrinfo")+"/attsubmiturl";
            this.submitattendanceparam=obj;
            this.$.submitattendanceajax.generateRequest();
            alert(JSON.stringify(obj));
        }
    },
    submitattendanceResponse:function(e){
        var res=e.detail.response.returnval;
        //alert(lenx+'    '+int);
        if(res=='success')
        {
            int=int+1;
        
            if(lenx==int)
            {
            alert('Attendance of '+int+' student is marked successfully'); 
            document.querySelector('transport-app').setPage("addattendence","Attendance");      
            document.querySelector('addattendence-card').FnClear();      
            }
            
        }
        else{
         alert('Attendance is not marked');   
        }
        
    },
    staffgetname:function(){
        this.staffgetnameurl=sessionStorage.getItem("addrinfo")+"/staffgetname";
        var obj={"schol":"","academic_year":""}
        obj.schol=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.staffgetnameparam=obj;
        this.$.staffgetnameajax.generateRequest();
    },
    staffgetnameResponse:function(e){
            var res=e.detail.response.returnval;
            document.querySelector('staffallocation-card').autocompletearr(res);

    },
    getstaffid:function(name){
        this.getstaffidurl=sessionStorage.getItem("addrinfo")+"/getstaffid";
        var obj={"schol":"","staffname":""}
        obj.staffname=name;
        obj.schol=sessionStorage.getItem("sch");
        this.getstaffidparam=obj;
        this.$.getstaffidajax.generateRequest();

    },
    getstaffidResponse:function(e){
            var id=e.detail.response.returnval[0].id;
            document.querySelector('staffallocation-card').staffid=id;
    },
    staffroute:function(staffid,pickrout,droprout,pickppt,dropppt,picktrip,droptrip){
        this.staffrouteurl=sessionStorage.getItem("addrinfo")+"/staffroute";
        var boj={"schol":"","stfid":"","pickrt":"","droprt":"","pickppt":"","droppt":"","val":"","val1":""}
        boj.schol=sessionStorage.getItem("sch");
        boj.stfid=staffid;
        boj.pickrt=pickrout;
        boj.droprt=droprout;
        boj.pickppt=pickppt;
        boj.droppt=dropppt;
        boj.val=picktrip;
        boj.val1=droptrip;
        this.staffrouteparam=boj;
        this.$.staffrouteajax.generateRequest();
    },
    staffrouteResponse:function(e){
        var res=e.detail.response.returnval;
        if(res=='success'){
            alert('Staff routing alloted successfully');
        }
        else{
            alert('Staff routing not alloted');   
        }
    },
    getstaffroute:function(rout,trip){
       // alert('pick service');

        this.getstaffrouteurl=sessionStorage.getItem("addrinfo")+"/getstaffroute";
        var obj={"schol":"","route":"","trip":""}
        obj.route=rout;
        obj.trip=trip;
        obj.schol=sessionStorage.getItem("sch");
        this.getstaffrouteparam=obj;
        this.$.getstaffrouteajax.generateRequest();
    },
    getstaffrouteResponse:function(e){
            var res=e.detail.response.returnval;
            //alert(JSON.stringify(res));
            document.querySelector('staffreport-card').staffreport=res;
    },
    getstaffdrop:function(rout,trip){
       // alert('drop service');

        this.getstaffdropurl=sessionStorage.getItem("addrinfo")+"/getstaffdrop";
        var obj={"schol":"","route":"","trip":""}
        obj.route=rout;
        obj.trip=trip;
        obj.schol=sessionStorage.getItem("sch");
        this.getstaffdropparam=obj;
        this.$.getstaffdropajax.generateRequest();
    },
    getstaffdropResponse:function(e){
            var res=e.detail.response.returnval;
            //alert(JSON.stringify(res));
            document.querySelector('staffreport-card').staffreport=res;
    },
     Fneditcheque:function(chequenum,bankname,chequedate2,prevcheque,stid)
    {
        this.updateeditchequeurl=sessionStorage.getItem("addrinfo")+"/updateeditcheque";
        var obj={"chequeno":"","bankname":"","chequedate":"","prevcheque":"","stuid":"","schol":""}
        obj.chequeno=chequenum;
        obj.bankname=bankname;
        obj.chequedate=chequedate2;
        obj.prevcheque=prevcheque;
        obj.stuid=stid;
        obj.schol=sessionStorage.getItem("sch");
        this.updateeditchequeparam=obj;
        //alert(JSON.stringify(obj));
        this.$.updateeditchequeajax.generateRequest();

    },
    updateeditchequeResponse:function(e)
    {
          document.querySelector('editcheque-card').FnClear();
    },
    Fndeletecheque:function(cheqno,studid,instaltype)
    {

      this.deletechequeurl=sessionStorage.getItem("addrinfo")+"/deletecheque";
        var obj={"chequeno":"","installtype":"","stuid":"","schol":""}
        obj.chequeno=cheqno;
        obj.stuid=studid;
        obj.installtype=instaltype;
        obj.schol=sessionStorage.getItem("sch");
        this.deletechequeparam=obj;
        //alert(JSON.stringify(obj));
        this.$.deletechequeajax.generateRequest();

    },
    deletechequeResponse:function(e)
    {
        document.querySelector('editcheque-card').FnClear();
    },
    
     fnnewdistance:function(distanceid,mindistance,maxdistance,fee,zoneid,zonename)   
      {        
         zoneid1=zoneid;
         zonename1=zonename; 
         distanceid1=distanceid;

        this.newdistanceurl=sessionStorage.getItem("addrinfo")+"/newdistance";
        var obj={"schlidz":"","distanceid1":"","mindistance":"","maxdistance":"","fee":"",
        "academic_year":""}
        obj.schlidz=sessionStorage.getItem("sch");
        obj.distanceid1=distanceid;
        obj.mindistance=mindistance;
        obj.maxdistance=maxdistance;
        obj.fee=fee;
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.newdistanceparam=obj;
        //alert(distanceid1);
        //alert(JSON.stringify(obj));
        this.$.newdistanceajax.generateRequest();
      },
      newdistanceResponse:function(e)
      {
        var res=e.detail.response.returnval;
       // alert(JSON.stringify(res));

        if(res=='Already Exit')
        {
            alert("This Maximum and Minimum distace are already exits");

        }

        else
        {
            //alert("zone insert");
        this.fnnewzoneurl=sessionStorage.getItem("addrinfo")+"/fnnewzone";
        var obj={"scholid":"","zoneid1":"","zonename1":"","distanceid1":"","academic_year":""}
        obj.scholid=sessionStorage.getItem("sch");
        obj.zoneid1=zoneid1;
        obj.zonename1=zonename1;
        obj.distanceid1=distanceid1;
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        this.fnnewzoneparam=obj;
        //alert(distanceid1+""+zoneid1);
       //alert(JSON.stringify(obj));
        this.$.fnnewzoneajax.generateRequest();

        }    
    
      },
      fnnewzoneResponse:function(e)
      {
        var res=e.detail.response.returnval;
        if(res=='Inserted!')
        {
            alert("Inserted");
        }
        //alert(JSON.stringify(res));
      },
     

      fetchdistanceseq:function()
      {
        //alert("distance seq");
        this.fetchdistancesequrl=sessionStorage.getItem("addrinfo")+"/fetchdistanceseq";
        this.$.fetchdistanceseqajax.generateRequest();
      },
      
      fetchdistanceseqResponse:function(e)
      {
        var res=e.detail.response.returnval;
        //alert("disttt");

        var disid=res[0].distance_prefix+res[0].distance_seq;
        //alert(disid);
        document.querySelector('zonedistance-card').fndistanceidseqq(disid);
        //alert(JSON.stringify(distanceid));  

      },

      fetchzoneseq:function()
      {
        //alert("zone seq");
        this.fetchzonesequrl=sessionStorage.getItem("addrinfo")+"/fetchzoneseq";
        this.$.fetchzoneseqajax.generateRequest();
      },
      fetchzoneseqResponse:function(e)
      {
        var res=e.detail.response.returnval;
        //alert("zoneee");
        //alert(JSON.stringify(res));   
        var zid=res[0].zone_prefix+res[0].zone_seq; 
        //alert(zid);
        document.querySelector('zonedistance-card').fnzoneidseqq(zid);
      },

     
      
      fetchzone:function(zonename)
      {
        zonename1=zonename;
        //alert(333);
        this.fetchzoneurl=sessionStorage.getItem("addrinfo")+"/fetchzone";
        var obj={"schoolid":"","academic_year":"","zonename1":""}
        obj.schoolid=sessionStorage.getItem("sch");
        obj.academic_year=localStorage.getItem("curr_sess_academicyear");
        obj.zonename1=zonename;
        this.fetchzoneparam=obj;
        //alert(JSON.stringify(obj));
        this.$.fetchzoneajax.generateRequest();
      },
      fetchzoneResponse:function(e)
      {

        var res=e.detail.response.returnval;
        //alert(JSON.stringify(res));
        if(res=='no rows')
        {
            document.querySelector('zonedistance-card').fnrefresh(); 
        }
        
        else
        {
            document.querySelector('zonedistance-card').fnmaxdist(res);
            document.querySelector('zonedistance-card').fnmindist(res);
            document.querySelector('zonedistance-card').fee=res[0].fee;
        }
            
       
      }
     
    });
 })();
</script>

</dom-module>


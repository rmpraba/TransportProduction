<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<dom-module id="refund-card">
<template>
  <style>
    .detail1{
      @apply(--layout-horizontal);
      height: 40%;
    }
    .collapse{
      padding: 10px 15px;
      margin-top: 20px;
      background-color: #B2C2F0;
      border: 1px solid #dedede;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
      font-size: 15px;
      cursor: pointer;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
      width: 100%;
      text-align: left;
    }
    .imag {
      height: 30%;
      width : 20%;
    }
    img {
      width : 60%;
    }
    .layout{
      @apply(--layout-horizontal);
    }
    .hor{
      @apply(--layout-vertical);
    }
    #lb{
      font-weight: bold;
    }
    paper-item{
      width: 150px;
    }
  </style>
<button  class="collapse" on-click="toggle">Student Id:{{studid}}</button>
<iron-collapse id="{{studid}}">
  <div class="field">
  <div class="detail1">
  <div class="hor">
   <div  class="layout">
   <paper-item id="lb" >student Id:</paper-item>
   <paper-item id="lb">name</paper-item>
   <paper-item id="lb">Refund Amount</paper-item>
   <paper-item id="lb">Reason</paper-item>
    <paper-item id="lb">Cancel Date</paper-item>
    <paper-item id="lb">Approval</paper-item>
    <paper-item id="lb">Reject</paper-item>
  </div>
 <div class="hor">
  <div  class="layout"> <paper-item >{{studid}}</paper-item>
   <paper-item >{{name}}</paper-item>
   <paper-item >{{amount}}</paper-item>
   <paper-item >{{reason}}</paper-item>
   <paper-item >{{canceldate}}</paper-item>
  <paper-checkbox id="acceptcheck" class="checkbox" on-change="Fnapproval1" style= "padding-right: 12%; margin-left:3%;"></paper-checkbox>
  <paper-checkbox id="rejectcheck" class="checkbox" on-change="Fnapproval2"></paper-checkbox>
   </div>
  </div>
 </div>
 </div>
 </div>
  </iron-collapse>
   <refund-service id="service"></refund-service>
  </template>
  <script>

  
 (function() {
   var status='';
   var idd="0";
    Polymer({
      is: "refund-card",
      ready:function()
      {
      
      },
      toggle: function(e)
      {
      if(idd=="0")
      {
      idd= document.querySelector("#"+this.studid);
       idd.toggle()
      }
      else
      {
      if(idd!=document.querySelector("#"+this.studid))
      {
            idd.opened=false;
      }
       idd= document.querySelector("#"+this.studid);
          idd.toggle()

      }

},
Fnapproval1:function(e)
{
  
   
   if(e.target.checked==true)
   {
     status='Approved';
     var flag=2;
      this.$.service.Approvereq(this.studid,status,flag);
    }
  },
  Fnapproval2:function(e)
{
    if(e.target.checked==true)
   {
     status='Rejected';
     var flag=2;
      this.$.service.Approvereq(this.studid,status,flag);
    }

}
      
    });
    })();
     
  </script>

</dom-module>